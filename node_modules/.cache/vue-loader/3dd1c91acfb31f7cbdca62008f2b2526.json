{"remainingRequest":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\indicou\\desenvolvimento\\Indicou\\src\\views\\InfoResults.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\indicou\\desenvolvimento\\Indicou\\src\\views\\InfoResults.vue","mtime":1625179179323},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5jdXN0b20tZm9udHsNCiAgZm9udC13ZWlnaHQ6ODAwIWltcG9ydGFudDsNCn0NCi5jdXN0b20tZm9udDJ7DQogIGZvbnQtc2l6ZTogMTRweDsNCn0NCi5mYW1pbHktZm9udHsNCiAgIGZvbnQtZmFtaWx5OiAnQXZlbmlyJywgJ1BvcHBpbnMnLCBzYW5zLXNlcmlmOw0KfQ0KLnRpdGxlLWNhcmQtc3RhdHVzew0KICB3aWR0aDoyMTBweDsNCiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7DQogIG92ZXJmbG93OiBoaWRkZW47DQogIHdoaXRlLXNwYWNlOiBub3dyYXA7DQogIGZvbnQtc2l6ZToxNHB4Ow0KfQ0KLmYtc2l6ZS0xM3sNCiAgZm9udC1zaXplOjEzcHg7DQp9DQo="},{"version":3,"sources":["InfoResults.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"InfoResults.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"py-3 mx-5 font-poppins\">\r\n    <preloader></preloader>\r\n    <div class=\"container px-1\" >\r\n      <nav aria-label=\"breadcrumb\">\r\n        <ol class=\"breadcrumb border-info bg-default bg-white border-0 mb-1 pl-0 custom-font2\">\r\n          <li class=\"breadcrumb-item\"><router-link to=\"/results\" class=\"text-success\" style=\"font-weight:800\"><u class=\"text-muted\">Resultados</u></router-link></li>\r\n          <li class=\"breadcrumb-item active\" aria-current=\"page\">{{card.titulo}}</li>\r\n        </ol>\r\n      </nav>\r\n    </div>\r\n    <div class=\"container bg-light px-4 py-3\" >\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12 pb-4\">\r\n          <h3 class=\"mb-0 family-font\" style=\"font-weight:800\">{{card.titulo}}</h3>\r\n          <p class=\"text-success family-font\">{{card.empresa}}</p>\r\n        </div>\r\n      </div>\r\n                <div class=\"row mb-4\">\r\n                <div class=\"col-md-6\">\r\n                  <div class=\"row\">\r\n                    <div class=\"text-right d-flex flex-row justify-content-end align-items-center col-md-2 py-1 pr-2 pl-0\">\r\n                      <p class=\"\">Período:</p>\r\n                    </div>\r\n                    <div class=\"col-md-6 pl-0\">\r\n                      <date-picker v-model=\"range\" range-separator=\" - \" lang=\"pt-br\" value-type=\"timestamp\" format=\"DD/MM/YYYY\" range id=\"example-date-input\"/>\r\n                      </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-md-6\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-6\"></div>\r\n                    <div class=\"col-md-6\"></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"row mb-5 border py-2 mx-1 rounded shadow-sm\">\r\n                <div class=\"col-md-1\">\r\n                </div>\r\n                <div class=\"px-3 col-md-2 ml-1\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-12\" style=\"\">\r\n                      <p class=\"lead text-center mb-0 text-muted\" style=\"font-weight:700\">Indicados</p>\r\n                    </div>\r\n                    <div class=\"col-md-12 px-0\" style=\"\">\r\n                      <h1 class=\"text-center bg-light py-2 border rounded\" style=\"font-weight:800;color: #464646!important;\">{{somaResults}}</h1>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"px-3 col-md-2 mx-2\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-12\">\r\n                      <p class=\"lead text-center mb-0 text-muted\" style=\"font-weight:700\">Válidos</p>\r\n                    </div>\r\n                    <div class=\"col-md-12 px-0\">\r\n                      <h1 class=\"text-center bg-light py-2 border rounded\" style=\"font-weight:800;color: #464646!important;\">{{somaValidos}}</h1>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-md-2 px-3 mr-2\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-12\">\r\n                      <p class=\"lead text-center mb-0 text-muted\" style=\"font-weight:700\">Faturados</p>\r\n                    </div>\r\n                    <div class=\"col-md-12 px-0\">\r\n                      <h1 class=\"text-center bg-light py-2 border rounded\" style=\"font-weight:800;color: #464646!important;\">{{somaFaturados}}</h1>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-md-4 px-3 pr-5\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-12\">\r\n                      <p class=\"lead text-center mb-0 text-muted\" style=\"font-weight:700\">Ganhos</p>\r\n                    </div>\r\n                    <div class=\"col-md-12 px-0\">\r\n                      <h1 class=\"text-center bg-light py-2 border rounded\" style=\"font-weight:800;color: #464646!important;\" v-money-format=\"somaValorFaturados\"></h1>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n          <div class=\"row\">\r\n            <div class=\"col-md-6 pl-4 pt-2\">\r\n              <p class=\"\">Status Indicações</p>\r\n            </div>\r\n            <div class=\"col-md-6 pr-4\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-7 pt-1 px-0\">\r\n                  <p class=\"text-right\">Filtrar por:</p>\r\n                </div>\r\n                <div class=\"col-md-5\">\r\n                  <select v-model=\"filtrar\" class=\"form-control\">\r\n                    <option value=\"Todos\">Todos</option>\r\n                    <option value=\"Faturados\">Faturados</option>\r\n                    <option value=\"Em Análise\">Em Análise</option>\r\n                    <option value=\"Descartados\">Descartados</option>\r\n                  </select></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n      <div class=\"row mx-1 mt-2\">\r\n        <div class=\"col-md-3 px-2\" v-for=\"(index, item) in filtro\" :key=\"item\">\r\n          <div class=\"col-md-12 border py-2 mt-3 bg-white\" style=\"border-radius:10px!important\">\r\n            <p class=\"mb-1 fw-600 title-card-status\"\r\n            >{{index.form.Nome}}</p>\r\n            <div class=\"row\">\r\n              <div class=\"col-md-4\">\r\n                <p class=\"f-size-13\" v-date-format=\"index.dataCriacao\"></p>\r\n              </div>\r\n              <div class=\"col-md-6\">\r\n                <p class=\"f-size-13\" v-time-format=\"index.dataCriacao\"></p>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-md-7\">\r\n                <span\r\n                v-if=\"index.vistoempresa == 'Conversa Iniciada' ||\r\n                index.vistoempresa == '' ||\r\n                index.vistoempresa == 'O Indicado é um lead (ficou interessado)'\r\n                \"\r\n                class=\"badge badge-warning text-white px-4 py-1\">Em Análise</span>\r\n                <span\r\n                v-if=\"index.vistoempresa == 'Venda realizada' ||\r\n                index.vistoempresa == 'Cadastro efetuado' ||\r\n                index.vistoempresa == 'Conversão realizada'\r\n                \"\r\n                class=\"badge badge-success text-white px-4 py-1\">Faturado</span>\r\n                <span\r\n                v-if=\"index.vistoempresa == 'Indicação já realizada por outro parceiro' ||\r\n                index.vistoempresa == 'Contato não retornou as mensagens' ||\r\n                index.vistoempresa == 'Contato não interessado' ||\r\n                index.vistoempresa == 'Número de telefone não existe' ||\r\n                index.vistoempresa == 'Indicado não atendeu o telefone' ||\r\n                index.vistoempresa == 'Indicação fora da área de atuação da empresa'\r\n                \"\r\n                class=\"badge badge-danger text-white px-4 py-1\">Descartado</span>\r\n                </div>\r\n              <div class=\"col-md-2 text-center px-1 pl-2\">\r\n                <i\r\n                v-if=\"index.vistoempresa == 'Conversa Iniciada' ||\r\n                index.vistoempresa == '' ||\r\n                index.vistoempresa == 'O Indicado é um lead (ficou interessado)'\r\n                \"\r\n                class=\"far fa-clock text-warning py-1\" style=\"font-size:19px\"></i>\r\n                <i\r\n\r\n                v-if=\"index.vistoempresa == 'Venda realizada' ||\r\n                index.vistoempresa == 'Cadastro efetuado' ||\r\n                index.vistoempresa == 'Conversão realizada'\r\n                \"\r\n                class=\"fas fa-check text-success py-1\" style=\"font-size:19px\"></i>\r\n                <i\r\n                v-if=\"index.vistoempresa == 'Indicação já realizada por outro parceiro' ||\r\n                index.vistoempresa == 'Contato não retornou as mensagens' ||\r\n                index.vistoempresa == 'Contato não interessado' ||\r\n                index.vistoempresa == 'Número de telefone não existe' ||\r\n                index.vistoempresa == 'Indicado não atendeu o telefone' ||\r\n                index.vistoempresa == 'Indicação fora da área de atuação da empresa'\r\n                \"\r\n                class=\"fas fa-times text-danger py-1\" style=\"font-size:20px\"></i>\r\n                </div>\r\n              <div  class=\"col-md-2 pl-1\">\r\n                <i class=\"far text-muted fa-question-circle py-1\"\r\n                v-if=\"index.vistoempresa == 'Conversa Iniciada' ||\r\n                index.vistoempresa == '' ||\r\n                index.vistoempresa == 'O Indicado é um lead (ficou interessado)'\r\n                \"\r\n                v-b-tooltip.hover\r\n                title=\"O anunciante ainda não reportou o status, aguarde... \"\r\n                id=\"analise\" style=\"font-size:19px\"></i>\r\n                <i class=\"far text-muted fa-question-circle py-1\"\r\n                v-if=\"index.vistoempresa == 'Venda realizada' ||\r\n                index.vistoempresa == 'Cadastro efetuado' ||\r\n                index.vistoempresa == 'Conversão realizada'\r\n                \"\r\n                v-b-tooltip.hover\r\n                title=\"Parabéns a sua indicação obteve resultado positivo!\" id=\"faturado\" style=\"font-size:19px\"></i>\r\n                <i class=\"far text-muted fa-question-circle py-1\"\r\n                v-b-tooltip.hover\r\n                title=\"Ops... Seu contato indicado não atendeu o telefone.\" id=\"descartado\" style=\"font-size:19px\"\r\n                v-if=\"index.vistoempresa == 'Indicação já realizada por outro parceiro' ||\r\n                index.vistoempresa == 'Contato não retornou as mensagens' ||\r\n                index.vistoempresa == 'Contato não interessado' ||\r\n                index.vistoempresa == 'Número de telefone não existe' ||\r\n                index.vistoempresa == 'Indicado não atendeu o telefone' ||\r\n                index.vistoempresa == 'Indicação fora da área de atuação da empresa'\r\n                \"\r\n                >\r\n                </i>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { auth, db } from '../firebase'\r\nimport 'vue2-datepicker/scss/index.scss'\r\nimport 'vue2-datepicker/locale/pt-br'\r\nimport DatePicker from 'vue2-datepicker'\r\nimport Preloader from '../components/global/Preloader.vue'\r\n\r\nexport default {\r\n  name: 'InfoResults',\r\n  components: {\r\n    DatePicker,\r\n    Preloader\r\n  },\r\n  data () {\r\n    return {\r\n      idcard: null,\r\n      card: [],\r\n      resultados: [],\r\n      validos: [],\r\n      faturados: [],\r\n      range: [],\r\n      data1: null,\r\n      data2: null,\r\n      filtrar: 'Todos'\r\n    }\r\n  },\r\n  created () {\r\n    this.$root.$emit('MenuBar::show')\r\n    this.$root.$emit('indset:hide')\r\n    this.$root.$emit('resultset:show')\r\n    this.$root.$emit('marketset:hide')\r\n    this.$root.$emit('Business::hide')\r\n    this.getData()\r\n  },\r\n  computed: {\r\n    /* eslint-disable */\r\n    filtroMounth () {\r\n      if (this.resultados !== null) {\r\n        return this.resultados.sort(function (a, b) {\r\n          return a.dataCriacao - b.dataCriacao\r\n        })\r\n      } else {\r\n        return this.resultados\r\n      }\r\n    },\r\n    maiorMounth () {\r\n      if (this.resultados !== null) {\r\n        return this.resultados.sort(function (a, b) {\r\n          return b.dataCriacao - a.dataCriacao\r\n        })\r\n      } else {\r\n        return this.resultados\r\n      }\r\n    },\r\n    testee () {\r\n      return this.resultados.sort(function (a, b) {\r\n        return b.dataCriacao - a.dataCriacao\r\n      })\r\n    },\r\n    filtrarForms () {\r\n      if (this.filtrar === 'Todos') {\r\n        return this.testee\r\n      }\r\n      if (this.filtrar === 'Faturados') {\r\n        return this.testee\r\n          .filter(index =>\r\n          index.vistoempresa == 'Venda realizada' ||\r\n          index.vistoempresa == 'Conversão realizada' ||\r\n          index.vistoempresa == 'Cadastro efetuado')\r\n      }\r\n      if (this.filtrar === 'Em Análise') {\r\n        return this.testee\r\n          .filter(index =>\r\n          index.vistoempresa == 'Conversa Iniciada' ||\r\n          index.vistoempresa == 'O Indicado é um lead (ficou interessado)')\r\n      }\r\n      if (this.filtrar === 'Descartados') {\r\n        return this.testee\r\n          .filter(index =>\r\n          index.vistoempresa == 'Indicação já realizada por outro parceiro' ||\r\n          index.vistoempresa == 'Contato não retornou as mensagens' ||\r\n          index.vistoempresa == 'Contato não interessado' ||\r\n          index.vistoempresa == 'Número de telefone não existe' ||\r\n          index.vistoempresa == 'Indicado não atendeu o telefone' ||\r\n          index.vistoempresa == 'Indicação fora da área de atuação da empresa')\r\n      }\r\n    },\r\n    filtro () {\r\n      if (this.filtrarForms !== null) {\r\n        return this.filtrarForms\r\n            .filter(index => (this.range[0] <= index.dataCriacao && index.dataCriacao <= this.range[1]))\r\n      } else {\r\n        return this.filtrarForms\r\n      }\r\n    },\r\n    somaResults () {\r\n      if (this.filtro !== null) {\r\n        return this.resultados.filter(index => (this.range[0] <= index.dataCriacao && index.dataCriacao <= this.range[1])).length\r\n      } else {\r\n        return 0\r\n      }\r\n    },\r\n    somaValidos () {\r\n      if (this.filtro !== null) {\r\n        return this.validos.filter(index => (this.range[0] <= index.dataCriacao && index.dataCriacao <= this.range[1])).length\r\n      } else {\r\n        return 0\r\n      }\r\n    },\r\n    somaFaturados () {\r\n      if (this.filtro !== null) {\r\n        return this.faturados.filter(index => (this.range[0] <= index.dataCriacao && index.dataCriacao <= this.range[1])).length\r\n      } else {\r\n        return 0\r\n      }\r\n    },\r\n    somaValorFaturados () {\r\n      if (this.faturados !== null) {\r\n        return this.faturados.filter(index => (this.range[0] <= index.dataCriacao && index.dataCriacao <= this.range[1])).reduce((a, b) => {\r\n          return parseFloat(a) + parseFloat(b.comissao.valorcomissao)\r\n        }, 0)\r\n      } else {\r\n        return 0\r\n      }\r\n    }\r\n    /* eslint-enable */\r\n  },\r\n  methods: {\r\n    dateTeste () {\r\n      if (this.filtroMounth !== null) {\r\n        this.data1 = this.filtroMounth[0].dataCriacao\r\n        this.data2 = new Date().getTime()\r\n        this.range = [this.data1, this.data2]\r\n      }\r\n    },\r\n    getData () {\r\n      this.idcard = this.$route.params.id\r\n      var user = auth.currentUser\r\n      if (user != null) {\r\n        this.useruid = user.uid\r\n      }\r\n      const refd = db.collection('mercado').doc(this.idcard).get()\r\n      refd.then(doc => {\r\n        this.card = doc.data()\r\n      })\r\n      const reft = db.collection('cardsusers').doc(this.useruid).collection('Forms').where('idcard', '==', this.idcard).get()\r\n      reft.then(snapshot => {\r\n        snapshot.forEach(doc => {\r\n          this.resultados.push(doc.data())\r\n        })\r\n      }).then(() => {\r\n        this.dateTeste()\r\n      })\r\n      const refb = db.collection('cardsusers').doc(this.useruid).collection('Forms').where('idcard', '==', this.idcard)\r\n        .where('vistoempresa', 'in', ['Venda realizada', 'Conversão realizada', 'Conversa Iniciada', 'Cadastro efetuado', 'Agendamento realizado', 'O Indicado é um lead (ficou interessado)'])\r\n        .get()\r\n      refb.then(snapshot => {\r\n        snapshot.forEach(doc => {\r\n          this.validos.push(doc.data())\r\n        })\r\n      })\r\n      const refg = db.collection('cardsusers').doc(this.useruid).collection('Forms').where('idcard', '==', this.idcard)\r\n        .where('vistoempresa', 'in', ['Venda realizada', 'Cadastro efetuado', 'Conversão realizada'])\r\n        .get()\r\n      refg.then(snapshot => {\r\n        snapshot.forEach(doc => {\r\n          this.faturados.push(doc.data())\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.custom-font{\r\n  font-weight:800!important;\r\n}\r\n.custom-font2{\r\n  font-size: 14px;\r\n}\r\n.family-font{\r\n   font-family: 'Avenir', 'Poppins', sans-serif;\r\n}\r\n.title-card-status{\r\n  width:210px;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  font-size:14px;\r\n}\r\n.f-size-13{\r\n  font-size:13px;\r\n}\r\n</style>\r\n"]}]}