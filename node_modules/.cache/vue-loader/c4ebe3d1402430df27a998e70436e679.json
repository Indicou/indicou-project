{"remainingRequest":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\indicou\\desenvolvimento\\Indicou\\src\\components\\business\\CardMyAdBS.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\indicou\\desenvolvimento\\Indicou\\src\\components\\business\\CardMyAdBS.vue","mtime":1624918360754},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhdXRoLCBkYiB9IGZyb20gJy4uLy4uL2ZpcmViYXNlJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdDYXJkTXknLA0KICBwcm9wczogew0KICAgIGRhdGE6IHsgdHlwZTogT2JqZWN0LCByZXF1aXJlZDogdHJ1ZSB9DQogIH0sDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICBpZHVzZXI6ICcnLA0KICAgICAgbWFyY2E6ICcnLA0KICAgICAgaWRidXNpbmVzczogdGhpcy5kYXRhLmlkYnVzaW5lc3MsDQogICAgICBpZDogdGhpcy5kYXRhLmlkLA0KICAgICAgdGl0dWxvOiB0aGlzLmRhdGEudGl0dWxvLA0KICAgICAgc29icmU6IHRoaXMuZGF0YS5zb2JyZSwNCiAgICAgIGZpbHRybzogdGhpcy5kYXRhLmZpbHRybywNCiAgICAgIHRpcG9uZWdvY2lvOiB0aGlzLmRhdGEudGlwb25lZ29jaW8sDQogICAgICB0ZXJtbzogdGhpcy5kYXRhLnRlcm1vLA0KICAgICAgdGlwbzogdGhpcy5kYXRhLnRpcG8sDQogICAgICBpbWFnZW06IHRoaXMuZGF0YS5pbWFnZW0sDQogICAgICBjb21pc3NhbzogdGhpcy5kYXRhLmNvbWlzc2FvLA0KICAgICAgcmVnaWFvOiB0aGlzLmRhdGEucmVnaWFvLA0KICAgICAgbG9jYWlzOiB0aGlzLmRhdGEubG9jYWlzLA0KICAgICAgZm9ybXM6IHRoaXMuZGF0YS5mb3JtcywNCiAgICAgIGZpc2ljbzogdGhpcy5kYXRhLmZpc2ljbywNCiAgICAgIGRhdGFDcmlhY2FvOiB0aGlzLmRhdGEuZGF0YUNyaWFjYW8sDQogICAgICBhdGl2bzogdGhpcy5kYXRhLmF0aXZvLA0KICAgICAgY29udGFnZW06IDAsDQogICAgICB1c2VyOiBbXSwNCiAgICAgIGZvcm11bGFyaW9zOiBbXQ0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCAoKSB7DQogICAgdGhpcy5nZXRVc2VyKCkNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBxdWFudEZvcm0gKCkgew0KICAgICAgaWYgKHRoaXMuZm9ybXVsYXJpb3MgIT09IG51bGwpIHsNCiAgICAgICAgY29uc3QgcXVhbnRpZGFkZSA9IHRoaXMuZm9ybXVsYXJpb3MubGVuZ3RoDQogICAgICAgIHJldHVybiBxdWFudGlkYWRlDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gMA0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldFVzZXIgKCkgew0KICAgICAgdmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyDQogICAgICBpZiAodXNlciAhPSBudWxsKSB7DQogICAgICAgIHRoaXMuaWR1c2VyID0gdXNlci51aWQNCiAgICAgIH0NCiAgICAgIC8qIGVzbGludC1kaXNhYmxlICovDQogICAgICBjb25zdCByZWZ0ID0gZGIuY29sbGVjdGlvbignY2FyZHNidXNpbmVzcycpLmRvYyh0aGlzLmlkYnVzaW5lc3MpLmNvbGxlY3Rpb24oJ0Zvcm1zJykud2hlcmUoJ2lkY2FyZCcsICc9PScsIHRoaXMuaWQpLmdldCgpDQogICAgICByZWZ0LnRoZW4oc25hcHNob3QgPT4gew0KICAgICAgICBzbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7DQogICAgICAgICAgdGhpcy5mb3JtdWxhcmlvcy5wdXNoKGRvYy5kYXRhKCkpDQogICAgICAgIH0pDQogICAgICB9KQ0KICAgIH0sDQogICAgcHVibGljYXJDYXJkICgpIHsNCiAgICAgIGlmICh0aGlzLmxvY2FpcyA9PT0gdW5kZWZpbmVkKSB7DQogICAgICAgIHRoaXMubG9jYWlzID0gW10NCiAgICAgIH0NCiAgICAgIGlmICh0aGlzLmRhdGFDcmlhY2FvID09PSB1bmRlZmluZWQpIHsNCiAgICAgICAgdGhpcy5kYXRhQ3JpYWNhbyA9ICcnDQogICAgICB9DQogICAgICBpZiAodGhpcy5mb3JtdWxhcmlvcyAhPT0gbnVsbCkgew0KICAgICAgICB0aGlzLmNvbnRhZ2VtID0gdGhpcy5mb3JtdWxhcmlvcy5sZW5ndGgNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuY29udGFnZW0gPSAwDQogICAgICB9DQogICAgICBkYi5jb2xsZWN0aW9uKCdtZXJjYWRvJykuZG9jKHRoaXMuaWQpLnNldCh7DQogICAgICAgIGlkOiB0aGlzLmlkLA0KICAgICAgICB0aXR1bG86IHRoaXMudGl0dWxvLA0KICAgICAgICBzb2JyZTogdGhpcy5zb2JyZSwNCiAgICAgICAgZmlsdHJvOiB0aGlzLmZpbHRybywNCiAgICAgICAgdGlwb25lZ29jaW86IHRoaXMudGlwb25lZ29jaW8sDQogICAgICAgIHRlcm1vOiB0aGlzLnRlcm1vLA0KICAgICAgICB0aXBvOiB0aGlzLnRpcG8sDQogICAgICAgIGVtcHJlc2E6IHRoaXMubWFyY2EsDQogICAgICAgIGltYWdlbTogdGhpcy5pbWFnZW0sDQogICAgICAgIHVpZDogdGhpcy5pZHVzZXIsDQogICAgICAgIGNvbWlzc2FvOiB0aGlzLmNvbWlzc2FvLA0KICAgICAgICByZWdpYW86IHRoaXMucmVnaWFvLA0KICAgICAgICBsb2NhaXM6IHRoaXMubG9jYWlzLA0KICAgICAgICBmb3JtczogdGhpcy5mb3JtcywNCiAgICAgICAgZmlzaWNvOiB0aGlzLmZpc2ljbywNCiAgICAgICAgaWRidXNpbmVzczogdGhpcy5pZGJ1c2luZXNzLA0KICAgICAgICBkYXRhQ3JpYWNhbzogdGhpcy5kYXRhQ3JpYWNhbywNCiAgICAgICAgYXRpdm86ICdBdGl2bycsDQogICAgICAgIGNvbnRmb3JtOiB0aGlzLmNvbnRhZ2VtDQogICAgICB9LCB7IG1lcmdlOiB0cnVlIH0pDQogICAgICBkYi5jb2xsZWN0aW9uKCdidXNpbmVzcycpLmRvYyh0aGlzLmlkYnVzaW5lc3MpLmNvbGxlY3Rpb24oJ0NhcmRzJykuZG9jKHRoaXMuaWQpLnNldCh7DQogICAgICAgIGF0aXZvOiAnQXRpdm8nDQogICAgICB9LCB7IG1lcmdlOiB0cnVlIH0pLnRoZW4oKCkgPT4gew0KICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGluYXRpdmFyQ2FyZCAoKSB7DQogICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqLw0KICAgICAgZGIuY29sbGVjdGlvbignbWVyY2FkbycpLmRvYyh0aGlzLmlkKS5zZXQoew0KICAgICAgICBhdGl2bzogJ0FndWFyZGFuZG8nDQogICAgICB9LCB7IG1lcmdlOiB0cnVlIH0pDQogICAgICBkYi5jb2xsZWN0aW9uKCdidXNpbmVzcycpLmRvYyh0aGlzLmlkYnVzaW5lc3MpLmNvbGxlY3Rpb24oJ0NhcmRzJykuZG9jKHRoaXMuaWQpLnNldCh7DQogICAgICAgIGF0aXZvOiAnQWd1YXJkYW5kbycNCiAgICAgIH0sIHsgbWVyZ2U6IHRydWUgfSkudGhlbigoKSA9PiB7DQogICAgICAgIHRoaXMuJHJvdXRlci5nbygpDQogICAgICB9KQ0KICAgICAgLyogZXNsaW50LWVuYWJsZSAqLw0KICAgIH0sDQogICAgZXhjbHVpckNhcmQgKCkgew0KICAgICAgLyogZXNsaW50LWRpc2FibGUgKi8NCiAgICAgIGRiLmNvbGxlY3Rpb24oJ21lcmNhZG8nKS5kb2ModGhpcy5pZCkuc2V0KHsNCiAgICAgICAgYXRpdm86ICdFeGNsdWlkbycNCiAgICAgIH0sIHsgbWVyZ2U6IHRydWUgfSkNCiAgICAgIGRiLmNvbGxlY3Rpb24oJ2J1c2luZXNzJykuZG9jKHRoaXMuaWRidXNpbmVzcykuY29sbGVjdGlvbignQ2FyZHMnKS5kb2ModGhpcy5pZCkuZGVsZXRlKCkudGhlbigoKSA9PiB7DQogICAgICAgIHRoaXMuJHJvdXRlci5nbygpDQogICAgICB9KQ0KICAgICAgLyogZXNsaW50LWVuYWJsZSAqLw0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["CardMyAdBS.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CardMyAdBS.vue","sourceRoot":"src/components/business","sourcesContent":["<template>\r\n<div class=\"col-md-12 shadow border bg-white mb-2\" style=\"border-bottom-right-radius: 10px;border-top-right-radius: 10px;border-bottom-left-radius: 10px;border-top-left-radius: 10px;\">\r\n  <div class=\"row align-items-center\">\r\n    <div class=\"col-md-3\"><img class=\"img-fluid d-block border mx-auto my-3 rounded teste\" :src=\"data.imagem\" height=\"200px\" width=\"200px\"></div>\r\n       <div class=\"col-md-8 pt-0\">\r\n        <h4 class=\"mb-0\" style=\"font-weight:600\">{{data.titulo}}</h4>\r\n          <p>{{marca}}</p>\r\n          <div class=\"row\">\r\n          <div class=\"col-md-3 border-left ml-2 \" :key=\"item\" v-for=\"(comissao, item) in data.comissao\">\r\n              <p class=\"lead mb-0\" style=\"font-weight: 600;\" v-money-format=\"comissao.valorcomissao\"></p>\r\n              <p style=\"font-size:14px\" class=\"mb-0\">Comissão por {{comissao.tipocomissao}}</p>\r\n              </div>\r\n              <div class=\"col-md-2\"></div>\r\n                </div>\r\n                  <span class=\"badge badge-info badge-pill mt-2 mr-1\" style=\"font-size:10px\">Indicação via {{data.tipo}}</span>\r\n                  <p class=\"mt-2 mb-0 pt-1\">Data publicação: <span v-date-format=\"data.dataCriacao\"></span></p>\r\n                    </div>\r\n                  <div class=\"col-md-1 text-center d-flex flex-column justify-content-center align-items-center\">\r\n                    <div class=\"btn-group  dropleft\">\r\n                      <button class=\"btn \" data-toggle=\"dropdown\"><i class=\"fa fa-ellipsis-v fa-2x text-body\"></i></button>\r\n                  <div class=\"dropdown-menu\" style=\"\">\r\n                    <router-link v-if=\"ativo !== 'Ativo'\" class=\"dropdown-item\" :to=\"{name: 'EditAdBS', params: { id: this.idbusiness, idcard: this.id }}\">\r\n                    <i class=\"fa fa-cogs fa-1x text-body pr-2\"></i>Editar Anúncio</router-link>\r\n                    <div v-if=\"ativo !== 'Ativo'\" class=\"dropdown-divider\"></div>\r\n                  <button class=\"dropdown-item\" type=\"button\" @click=\"excluirCard()\"><i class=\"fa fa-trash fa-1x text-danger pr-2\"></i>Excluir</button>\r\n                <div class=\"dropdown-divider\"></div>\r\n                <button\r\n                v-if=\"ativo !== 'Ativo'\"\r\n              @click=\"publicarCard()\"\r\n            class=\"dropdown-item\"><i class=\"fa fa-power-off fa-1x text-body pr-2\"></i>Publicar</button>\r\n            <button\r\n                v-else\r\n              @click=\"inativarCard()\"\r\n            class=\"dropdown-item\"><i class=\"fa fa-power-off fa-1x text-body pr-2\"></i>Aguardando</button>\r\n         </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { auth, db } from '../../firebase'\r\n\r\nexport default {\r\n  name: 'CardMy',\r\n  props: {\r\n    data: { type: Object, required: true }\r\n  },\r\n  data () {\r\n    return {\r\n      iduser: '',\r\n      marca: '',\r\n      idbusiness: this.data.idbusiness,\r\n      id: this.data.id,\r\n      titulo: this.data.titulo,\r\n      sobre: this.data.sobre,\r\n      filtro: this.data.filtro,\r\n      tiponegocio: this.data.tiponegocio,\r\n      termo: this.data.termo,\r\n      tipo: this.data.tipo,\r\n      imagem: this.data.imagem,\r\n      comissao: this.data.comissao,\r\n      regiao: this.data.regiao,\r\n      locais: this.data.locais,\r\n      forms: this.data.forms,\r\n      fisico: this.data.fisico,\r\n      dataCriacao: this.data.dataCriacao,\r\n      ativo: this.data.ativo,\r\n      contagem: 0,\r\n      user: [],\r\n      formularios: []\r\n    }\r\n  },\r\n  created () {\r\n    this.getUser()\r\n  },\r\n  computed: {\r\n    quantForm () {\r\n      if (this.formularios !== null) {\r\n        const quantidade = this.formularios.length\r\n        return quantidade\r\n      } else {\r\n        return 0\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getUser () {\r\n      var user = auth.currentUser\r\n      if (user != null) {\r\n        this.iduser = user.uid\r\n      }\r\n      /* eslint-disable */\r\n      const reft = db.collection('cardsbusiness').doc(this.idbusiness).collection('Forms').where('idcard', '==', this.id).get()\r\n      reft.then(snapshot => {\r\n        snapshot.forEach(doc => {\r\n          this.formularios.push(doc.data())\r\n        })\r\n      })\r\n    },\r\n    publicarCard () {\r\n      if (this.locais === undefined) {\r\n        this.locais = []\r\n      }\r\n      if (this.dataCriacao === undefined) {\r\n        this.dataCriacao = ''\r\n      }\r\n      if (this.formularios !== null) {\r\n        this.contagem = this.formularios.length\r\n      } else {\r\n        this.contagem = 0\r\n      }\r\n      db.collection('mercado').doc(this.id).set({\r\n        id: this.id,\r\n        titulo: this.titulo,\r\n        sobre: this.sobre,\r\n        filtro: this.filtro,\r\n        tiponegocio: this.tiponegocio,\r\n        termo: this.termo,\r\n        tipo: this.tipo,\r\n        empresa: this.marca,\r\n        imagem: this.imagem,\r\n        uid: this.iduser,\r\n        comissao: this.comissao,\r\n        regiao: this.regiao,\r\n        locais: this.locais,\r\n        forms: this.forms,\r\n        fisico: this.fisico,\r\n        idbusiness: this.idbusiness,\r\n        dataCriacao: this.dataCriacao,\r\n        ativo: 'Ativo',\r\n        contform: this.contagem\r\n      }, { merge: true })\r\n      db.collection('business').doc(this.idbusiness).collection('Cards').doc(this.id).set({\r\n        ativo: 'Ativo'\r\n      }, { merge: true }).then(() => {\r\n        this.$router.go()\r\n      })\r\n    },\r\n    inativarCard () {\r\n      /* eslint-disable */\r\n      db.collection('mercado').doc(this.id).set({\r\n        ativo: 'Aguardando'\r\n      }, { merge: true })\r\n      db.collection('business').doc(this.idbusiness).collection('Cards').doc(this.id).set({\r\n        ativo: 'Aguardando'\r\n      }, { merge: true }).then(() => {\r\n        this.$router.go()\r\n      })\r\n      /* eslint-enable */\r\n    },\r\n    excluirCard () {\r\n      /* eslint-disable */\r\n      db.collection('mercado').doc(this.id).set({\r\n        ativo: 'Excluido'\r\n      }, { merge: true })\r\n      db.collection('business').doc(this.idbusiness).collection('Cards').doc(this.id).delete().then(() => {\r\n        this.$router.go()\r\n      })\r\n      /* eslint-enable */\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.teste{\r\n  max-width: 180px;\r\n  min-width: 180px;\r\n  min-height: 180px;\r\n  max-height: 180px;\r\n  object-fit: cover;\r\n}\r\n</style>\r\n"]}]}