{"remainingRequest":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\indicou\\desenvolvimento\\Indicou\\src\\components\\business\\CardMyAdBS.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\indicou\\desenvolvimento\\Indicou\\src\\components\\business\\CardMyAdBS.vue","mtime":1623518570817},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhdXRoLCBkYiB9IGZyb20gJy4uLy4uL2ZpcmViYXNlJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdDYXJkTXknLA0KICBwcm9wczogew0KICAgIGRhdGE6IHsgdHlwZTogT2JqZWN0LCByZXF1aXJlZDogdHJ1ZSB9DQogIH0sDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICBpZHVzZXI6ICcnLA0KICAgICAgbWFyY2E6ICcnLA0KICAgICAgaWRidXNpbmVzczogJycsDQogICAgICBpZDogdGhpcy5kYXRhLmlkLA0KICAgICAgdGl0dWxvOiB0aGlzLmRhdGEudGl0dWxvLA0KICAgICAgc29icmU6IHRoaXMuZGF0YS5zb2JyZSwNCiAgICAgIGZpbHRybzogdGhpcy5kYXRhLmZpbHRybywNCiAgICAgIHRpcG9uZWdvY2lvOiB0aGlzLmRhdGEudGlwb25lZ29jaW8sDQogICAgICB0ZXJtbzogdGhpcy5kYXRhLnRlcm1vLA0KICAgICAgdGlwbzogdGhpcy5kYXRhLnRpcG8sDQogICAgICBpbWFnZW06IHRoaXMuZGF0YS5pbWFnZW0sDQogICAgICBjb21pc3NhbzogdGhpcy5kYXRhLmNvbWlzc2FvLA0KICAgICAgcmVnaWFvOiB0aGlzLmRhdGEucmVnaWFvLA0KICAgICAgbG9jYWlzOiB0aGlzLmRhdGEubG9jYWlzLA0KICAgICAgZm9ybXM6IHRoaXMuZGF0YS5mb3JtcywNCiAgICAgIGZpc2ljbzogdGhpcy5kYXRhLmZpc2ljbywNCiAgICAgIGRhdGFDcmlhY2FvOiB0aGlzLmRhdGEuZGF0YUNyaWFjYW8sDQogICAgICBhdGl2bzogdGhpcy5kYXRhLmF0aXZvDQogICAgfQ0KICB9LA0KICBjcmVhdGVkICgpIHsNCiAgICB0aGlzLmdldFVzZXIoKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZ2V0VXNlciAoKSB7DQogICAgICB2YXIgdXNlciA9IGF1dGguY3VycmVudFVzZXINCiAgICAgIGlmICh1c2VyICE9IG51bGwpIHsNCiAgICAgICAgdGhpcy5pZHVzZXIgPSB1c2VyLnVpZA0KICAgICAgfQ0KICAgICAgY29uc3QgcmVmID0gZGIuY29sbGVjdGlvbigndXNlcnMnKS5kb2ModGhpcy5pZHVzZXIpLmdldCgpDQogICAgICByZWYudGhlbihkb2MgPT4gew0KICAgICAgICB0aGlzLmlkYnVzaW5lc3MgPSBkb2MuZGF0YSgpLmJ1c2luZXNzaWQNCiAgICAgIH0pLnRoZW4oKCkgPT4gew0KICAgICAgICBkYi5jb2xsZWN0aW9uKCdidXNpbmVzcycpLmRvYyh0aGlzLmlkYnVzaW5lc3MpLmdldCgpDQogICAgICAgICAgLnRoZW4oZG9jID0+IHsNCiAgICAgICAgICAgIHRoaXMubWFyY2EgPSBkb2MuZGF0YSgpLm1hcmNhDQogICAgICAgICAgfSkNCiAgICAgIH0pDQogICAgfSwNCiAgICBwdWJsaWNhckNhcmQgKCkgew0KICAgICAgaWYgKHRoaXMubG9jYWlzID09PSB1bmRlZmluZWQpIHsNCiAgICAgICAgdGhpcy5sb2NhaXMgPSBbXQ0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuZGF0YUNyaWFjYW8gPT09IHVuZGVmaW5lZCkgew0KICAgICAgICB0aGlzLmRhdGFDcmlhY2FvID0gJycNCiAgICAgIH0NCiAgICAgIGRiLmNvbGxlY3Rpb24oJ21lcmNhZG8nKS5kb2ModGhpcy5pZCkuc2V0KHsNCiAgICAgICAgaWQ6IHRoaXMuaWQsDQogICAgICAgIHRpdHVsbzogdGhpcy50aXR1bG8sDQogICAgICAgIHNvYnJlOiB0aGlzLnNvYnJlLA0KICAgICAgICBmaWx0cm86IHRoaXMuZmlsdHJvLA0KICAgICAgICB0aXBvbmVnb2NpbzogdGhpcy50aXBvbmVnb2NpbywNCiAgICAgICAgdGVybW86IHRoaXMudGVybW8sDQogICAgICAgIHRpcG86IHRoaXMudGlwbywNCiAgICAgICAgZW1wcmVzYTogdGhpcy5tYXJjYSwNCiAgICAgICAgaW1hZ2VtOiB0aGlzLmltYWdlbSwNCiAgICAgICAgdWlkOiB0aGlzLmlkdXNlciwNCiAgICAgICAgY29taXNzYW86IHRoaXMuY29taXNzYW8sDQogICAgICAgIHJlZ2lhbzogdGhpcy5yZWdpYW8sDQogICAgICAgIGxvY2FpczogdGhpcy5sb2NhaXMsDQogICAgICAgIGZvcm1zOiB0aGlzLmZvcm1zLA0KICAgICAgICBmaXNpY286IHRoaXMuZmlzaWNvLA0KICAgICAgICBpZGJ1c2luZXNzOiB0aGlzLmlkYnVzaW5lc3MsDQogICAgICAgIGRhdGFDcmlhY2FvOiB0aGlzLmRhdGFDcmlhY2FvLA0KICAgICAgICBhdGl2bzogJ0F0aXZvJw0KICAgICAgfSwgeyBtZXJnZTogdHJ1ZSB9KQ0KICAgICAgZGIuY29sbGVjdGlvbignYnVzaW5lc3MnKS5kb2ModGhpcy5pZGJ1c2luZXNzKS5jb2xsZWN0aW9uKCdDYXJkcycpLmRvYyh0aGlzLmlkKS5zZXQoew0KICAgICAgICBhdGl2bzogJ0F0aXZvJw0KICAgICAgfSwgeyBtZXJnZTogdHJ1ZSB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgdGhpcy4kcm91dGVyLmdvKCkNCiAgICAgIH0pDQogICAgfSwNCiAgICBpbmF0aXZhckNhcmQgKCkgew0KICAgICAgZGIuY29sbGVjdGlvbignbWVyY2FkbycpLmRvYyh0aGlzLmlkKS5kZWxldGUoKQ0KICAgICAgZGIuY29sbGVjdGlvbignYnVzaW5lc3MnKS5kb2ModGhpcy5pZGJ1c2luZXNzKS5jb2xsZWN0aW9uKCdDYXJkcycpLmRvYyh0aGlzLmlkKS5zZXQoew0KICAgICAgICBhdGl2bzogJ0luYXRpdm8nDQogICAgICB9LCB7IG1lcmdlOiB0cnVlIH0pLnRoZW4oKCkgPT4gew0KICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oKQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGV4Y2x1aXJDYXJkICgpIHsNCiAgICAgIGRiLmNvbGxlY3Rpb24oJ21lcmNhZG8nKS5kb2ModGhpcy5pZCkuZGVsZXRlKCkNCiAgICAgIGRiLmNvbGxlY3Rpb24oJ2J1c2luZXNzJykuZG9jKHRoaXMuaWRidXNpbmVzcykuY29sbGVjdGlvbignQ2FyZHMnKS5kb2ModGhpcy5pZCkuZGVsZXRlKCkudGhlbigoKSA9PiB7DQogICAgICAgIHRoaXMuJHJvdXRlci5nbygpDQogICAgICB9KQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["CardMyAdBS.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CardMyAdBS.vue","sourceRoot":"src/components/business","sourcesContent":["<template>\r\n<div class=\"col-md-12 shadow border bg-white mb-2\" style=\"border-bottom-right-radius: 10px;border-top-right-radius: 10px;border-bottom-left-radius: 10px;border-top-left-radius: 10px;\">\r\n  <div class=\"row align-items-center\">\r\n    <div class=\"col-md-3\"><img class=\"img-fluid d-block border mx-auto my-3 rounded teste\" :src=\"data.imagem\" height=\"200px\" width=\"200px\"></div>\r\n       <div class=\"col-md-8 pt-0\">\r\n        <h4 class=\"mb-0\" style=\"font-weight:600\">{{data.titulo}}</h4>\r\n          <p>{{marca}}</p>\r\n          <div class=\"row\">\r\n          <div class=\"col-md-3 border-left ml-2 \" :key=\"item\" v-for=\"(comissao, item) in data.comissao\">\r\n              <p class=\"lead mb-0\" style=\"font-weight: 600;\" v-money-format=\"comissao.valorcomissao\"></p>\r\n              <p style=\"font-size:14px\" class=\"mb-0\">Comissão por {{comissao.tipocomissao}}</p>\r\n              </div>\r\n              <div class=\"col-md-2\"></div>\r\n                </div>\r\n                  <span class=\"badge badge-info badge-pill mt-2 mr-1\" style=\"font-size:10px\">Indicação via {{data.tipo}}</span>\r\n                  <p class=\"mt-2 mb-0 pt-1\">Data publicação: <span v-date-format=\"data.dataCriacao\"></span></p>\r\n                    </div>\r\n                  <div class=\"col-md-1 text-center d-flex flex-column justify-content-center align-items-center\">\r\n                    <div class=\"btn-group  dropleft\">\r\n                      <button class=\"btn \" data-toggle=\"dropdown\"><i class=\"fa fa-ellipsis-v fa-2x text-body\"></i></button>\r\n                  <div class=\"dropdown-menu\" style=\"\"> <a class=\"dropdown-item\" href=\"#\"><i class=\"fa fa-cogs fa-1x text-body pr-2\"></i>Editar Anúncio</a>\r\n                    <div class=\"dropdown-divider\"></div>\r\n                  <button class=\"dropdown-item\" type=\"button\" @click=\"excluirCard()\"><i class=\"fa fa-trash fa-1x text-danger pr-2\"></i>Excluir</button>\r\n                <div class=\"dropdown-divider\"></div>\r\n                <button\r\n                v-if=\"ativo !== 'Ativo'\"\r\n              @click=\"publicarCard()\"\r\n            class=\"dropdown-item\"><i class=\"fa fa-power-off fa-1x text-body pr-2\"></i>Publicar</button>\r\n            <button\r\n                v-else\r\n              @click=\"inativarCard()\"\r\n            class=\"dropdown-item\"><i class=\"fa fa-power-off fa-1x text-body pr-2\"></i>Inativar</button>\r\n         </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { auth, db } from '../../firebase'\r\n\r\nexport default {\r\n  name: 'CardMy',\r\n  props: {\r\n    data: { type: Object, required: true }\r\n  },\r\n  data () {\r\n    return {\r\n      iduser: '',\r\n      marca: '',\r\n      idbusiness: '',\r\n      id: this.data.id,\r\n      titulo: this.data.titulo,\r\n      sobre: this.data.sobre,\r\n      filtro: this.data.filtro,\r\n      tiponegocio: this.data.tiponegocio,\r\n      termo: this.data.termo,\r\n      tipo: this.data.tipo,\r\n      imagem: this.data.imagem,\r\n      comissao: this.data.comissao,\r\n      regiao: this.data.regiao,\r\n      locais: this.data.locais,\r\n      forms: this.data.forms,\r\n      fisico: this.data.fisico,\r\n      dataCriacao: this.data.dataCriacao,\r\n      ativo: this.data.ativo\r\n    }\r\n  },\r\n  created () {\r\n    this.getUser()\r\n  },\r\n  methods: {\r\n    getUser () {\r\n      var user = auth.currentUser\r\n      if (user != null) {\r\n        this.iduser = user.uid\r\n      }\r\n      const ref = db.collection('users').doc(this.iduser).get()\r\n      ref.then(doc => {\r\n        this.idbusiness = doc.data().businessid\r\n      }).then(() => {\r\n        db.collection('business').doc(this.idbusiness).get()\r\n          .then(doc => {\r\n            this.marca = doc.data().marca\r\n          })\r\n      })\r\n    },\r\n    publicarCard () {\r\n      if (this.locais === undefined) {\r\n        this.locais = []\r\n      }\r\n      if (this.dataCriacao === undefined) {\r\n        this.dataCriacao = ''\r\n      }\r\n      db.collection('mercado').doc(this.id).set({\r\n        id: this.id,\r\n        titulo: this.titulo,\r\n        sobre: this.sobre,\r\n        filtro: this.filtro,\r\n        tiponegocio: this.tiponegocio,\r\n        termo: this.termo,\r\n        tipo: this.tipo,\r\n        empresa: this.marca,\r\n        imagem: this.imagem,\r\n        uid: this.iduser,\r\n        comissao: this.comissao,\r\n        regiao: this.regiao,\r\n        locais: this.locais,\r\n        forms: this.forms,\r\n        fisico: this.fisico,\r\n        idbusiness: this.idbusiness,\r\n        dataCriacao: this.dataCriacao,\r\n        ativo: 'Ativo'\r\n      }, { merge: true })\r\n      db.collection('business').doc(this.idbusiness).collection('Cards').doc(this.id).set({\r\n        ativo: 'Ativo'\r\n      }, { merge: true }).then(() => {\r\n        this.$router.go()\r\n      })\r\n    },\r\n    inativarCard () {\r\n      db.collection('mercado').doc(this.id).delete()\r\n      db.collection('business').doc(this.idbusiness).collection('Cards').doc(this.id).set({\r\n        ativo: 'Inativo'\r\n      }, { merge: true }).then(() => {\r\n        this.$router.go()\r\n      })\r\n    },\r\n    excluirCard () {\r\n      db.collection('mercado').doc(this.id).delete()\r\n      db.collection('business').doc(this.idbusiness).collection('Cards').doc(this.id).delete().then(() => {\r\n        this.$router.go()\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.teste{\r\n  max-width: 180px;\r\n  min-width: 180px;\r\n  min-height: 180px;\r\n  max-height: 180px;\r\n  object-fit: cover;\r\n}\r\n</style>\r\n"]}]}