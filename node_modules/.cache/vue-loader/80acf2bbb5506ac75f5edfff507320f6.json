{"remainingRequest":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\indicou\\desenvolvimento\\Indicou\\src\\views\\DashboardBS.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\indicou\\desenvolvimento\\Indicou\\src\\views\\DashboardBS.vue","mtime":1624589257378},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQ2FyZFByaW5jaXBhaXMgZnJvbSAnLi4vY29tcG9uZW50cy9idXNpbmVzcy9DYXJkUHJpbmNpcGFpcycNCmltcG9ydCBTdmdJY29ucyBmcm9tICcuLi9jb21wb25lbnRzL2dsb2JhbC9TdmdJY29ucycNCmltcG9ydCB7IGF1dGgsIGRiIH0gZnJvbSAnLi4vZmlyZWJhc2UnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0Rhc2hib2FyZEJzJywNCiAgY29tcG9uZW50czogew0KICAgIFN2Z0ljb25zLA0KICAgIENhcmRQcmluY2lwYWlzDQogIH0sDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICBpZGJ1c2luZXNzOiBudWxsLA0KICAgICAgaWR1c2VyOiBudWxsLA0KICAgICAgcmVjZWJpZG9zOiBbXSwNCiAgICAgIGNvbnZlcnRpZG9zOiBbXSwNCiAgICAgIGludGVyZXNzYWRvczogW10sDQogICAgICB0ZXN0ZTogbnVsbA0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCAoKSB7DQogICAgdGhpcy4kcm9vdC4kZW1pdCgnQnVzaW5lc3M6OnNob3cnKQ0KICAgIHRoaXMuJHJvb3QuJGVtaXQoJ01lbnVCYXI6OmhpZGUnKQ0KICAgIHRoaXMuaWRidXNpbmVzcyA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZA0KICAgIHZhciB1c2VyID0gYXV0aC5jdXJyZW50VXNlcg0KICAgIGlmICh1c2VyICE9IG51bGwpIHsNCiAgICAgIHRoaXMuaWR1c2VyID0gdXNlci51aWQNCiAgICB9DQogICAgdGhpcy5nZXREYXRhKCkNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAvKiBlc2xpbnQtZGlzYWJsZSAqLw0KICAgIHF1YW50UmVjZWJpZG9zICgpIHsNCiAgICAgIGlmICh0aGlzLnJlY2ViaWRvcyAhPT0gbnVsbCkgew0KICAgICAgICByZXR1cm4gdGhpcy5yZWNlYmlkb3MubGVuZ3RoDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gMA0KICAgICAgfQ0KICAgIH0sDQogICAgUmVjZW50ZXMgKCkgew0KICAgICAgaWYgKHRoaXMucmVjZWJpZG9zICE9PSBudWxsKSB7DQogICAgICAgIHJldHVybiB0aGlzLnJlY2ViaWRvcy5zb3J0KChhLCBiKSA9PiB7DQogICAgICAgICAgcmV0dXJuIGIuZGF0YUNyaWFjYW8gLSBhLmRhdGFDcmlhY2FvDQogICAgICAgIH0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gMA0KICAgICAgfQ0KICAgIH0sDQogICAgcXVhbnRDb252ZXJ0aWRvcyAoKSB7DQogICAgICBpZiAodGhpcy5jb252ZXJ0aWRvcyAhPT0gbnVsbCkgew0KICAgICAgICByZXR1cm4gdGhpcy5jb252ZXJ0aWRvcy5sZW5ndGgNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiAwDQogICAgICB9DQogICAgfSwNCiAgICBjb3BpYVJlY2ViaWRvcyAoKSB7DQogICAgICBpZiAodGhpcy5yZWNlYmlkb3MgIT09IG51bGwpIHsNCiAgICAgICAgY29uc3QgY29waWEgPSB0aGlzLnJlY2ViaWRvcy5zbGljZSgpDQogICAgICAgIHJldHVybiBjb3BpYQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIDANCiAgICAgIH0NCiAgICB9LA0KICAgIEZpbHRyb1JlY2ViaWRvcyAoKSB7DQogICAgICBpZiAodGhpcy5jb3BpYVJlY2ViaWRvcyAhPT0gbnVsbCkgew0KICAgICAgICByZXR1cm4gdGhpcy5jb3BpYVJlY2ViaWRvcy5zb3J0KChhLCBiKSA9PiB7DQogICAgICAgICAgcmV0dXJuIGEuZGF0YUNyaWFjYW8gLSBiLmRhdGFDcmlhY2FvDQogICAgICAgIH0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gMA0KICAgICAgfQ0KICAgIH0sDQogICAgcXVhbnRQcmluY2lwYWlzICgpIHsNCiAgICAgIGlmICh0aGlzLkZpbHRyb1JlY2ViaWRvcyAhPT0gbnVsbCkgew0KICAgICAgICByZXR1cm4gdGhpcy5GaWx0cm9SZWNlYmlkb3MuZmlsdGVyKGZ1bmN0aW9uIChhKSB7DQoJICAgICAgcmV0dXJuICF0aGlzW0pTT04uc3RyaW5naWZ5KGEudXNlcildICYmICh0aGlzW0pTT04uc3RyaW5naWZ5KGEudXNlcildID0gdHJ1ZSk7DQogICAgICAgIH0sIE9iamVjdC5jcmVhdGUobnVsbCkpDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gMA0KICAgICAgfQ0KICAgIH0sDQogICAgcXVhbnRJbnRlcmVzc2Fkb3MgKCkgew0KICAgICAgaWYgKHRoaXMuaW50ZXJlc3NhZG9zICE9PSBudWxsKSB7DQogICAgICAgIGNvbnN0IHRlc3RlID0gdGhpcy5pbnRlcmVzc2Fkb3MNCiAgICAgICAgcmV0dXJuIDANCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiAwDQogICAgICB9DQogICAgfQ0KICAgIC8qIGVzbGludC1lbmFibGUgKi8NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldERhdGEgKCkgew0KICAgICAgY29uc3QgcmVmID0gZGIuY29sbGVjdGlvbignY2FyZHNidXNpbmVzcycpLmRvYyh0aGlzLmlkYnVzaW5lc3MpLmNvbGxlY3Rpb24oJ0Zvcm1zJykuZ2V0KCkNCiAgICAgIHJlZi50aGVuKHNuYXBzaG90ID0+IHsNCiAgICAgICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gew0KICAgICAgICAgIHRoaXMucmVjZWJpZG9zLnB1c2goZG9jLmRhdGEoKSkNCiAgICAgICAgfSkNCiAgICAgIH0pDQogICAgICBjb25zdCByZWZjID0gZGIuY29sbGVjdGlvbignY2FyZHNidXNpbmVzcycpLmRvYyh0aGlzLmlkYnVzaW5lc3MpLmNvbGxlY3Rpb24oJ0Zvcm1zJykNCiAgICAgICAgLndoZXJlKCd2aXN0b2VtcHJlc2EnLCAnaW4nLCBbJ1ZlbmRhIHJlYWxpemFkYScsICdDYWRhc3RybyBlZmV0dWFkbycsICdDb252ZXJzw6NvIHJlYWxpemFkYSddKQ0KICAgICAgICAuZ2V0KCkNCiAgICAgIHJlZmMudGhlbihzbmFwc2hvdCA9PiB7DQogICAgICAgIHNuYXBzaG90LmZvckVhY2goZG9jID0+IHsNCiAgICAgICAgICB0aGlzLmNvbnZlcnRpZG9zLnB1c2goZG9jLmRhdGEoKSkNCiAgICAgICAgfSkNCiAgICAgIH0pDQogICAgICBjb25zdCByZWZpID0gZGIuY29sbGVjdGlvbignbWVyY2FkbycpLndoZXJlKCdpZGJ1c2luZXNzJywgJz09JywgdGhpcy5pZGJ1c2luZXNzKS5nZXQoKQ0KICAgICAgcmVmaS50aGVuKHNuYXBzaG90ID0+IHsNCiAgICAgICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gew0KICAgICAgICAgIHRoaXMuaW50ZXJlc3NhZG9zLnB1c2goZG9jLmRhdGEoKSkNCiAgICAgICAgfSkNCiAgICAgIH0pDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["DashboardBS.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DashboardBS.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"hide\">\r\n      <svg-icons/>\r\n    </div>\r\n    <!-- //main-head -->\r\n   <div>\r\n       <div class=\"pb-4 pt-3 bg-light\" >\r\n    <div class=\"container-fluid px-5 font-poppins\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-3 px-1\">\r\n          <div class=\"col-md-12 bg-white px-4\" style=\"height: 200px; border-radius:15px;box-shadow: 0 6px 14px -7px grey;\">\r\n            <h5 class=\"mb-0 pt-4 pb-1 fw-300 font-poppins text-muted\" style=\"font-size:13px;\">Convertidos</h5>\r\n            <h3 class=\"display-3 pt-0 mt-n2 mb-0\" style=\"margin-left: -3px;font-weight:800;background: linear-gradient(88deg, rgb(69 255 145 / 95%), rgb(57 116 146));-webkit-background-clip: text;-webkit-text-fill-color: transparent;\">{{quantConvertidos}}</h3>\r\n            <p class=\"mt-n1 font-poppins fw-200\" style=\"font-size:11px\">indicações</p>\r\n            <img src=\"../assets/linha-2.png\" style=\"width: 112px;\" alt=\"\">\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-3 px-1\">\r\n          <div class=\"col-md-12 bg-white px-4\" style=\"height: 200px;border-radius:15px;box-shadow: 0 6px 14px -7px grey;\">\r\n            <h5 class=\"mb-0 pt-4 pb-1 fw-300 text-muted font-poppins\" style=\"font-size:13px\">Recebidos</h5>\r\n            <h3 class=\"display-3 pt-0 mt-n2 mb-0\" style=\"margin-left: -4px;font-weight:800;background: linear-gradient(88deg, rgb(69 255 145 / 95%), rgb(57 116 146));-webkit-background-clip: text;-webkit-text-fill-color: transparent;\">{{quantRecebidos}}</h3>\r\n            <p class=\"mt-n1 fw-200 font-poppins\" style=\"font-size:11px\">indicações</p>\r\n            <img src=\"../assets/linha-2.png\" style=\"width: 112px;transform: rotate(180deg);\" alt=\"\">\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-3 px-1\">\r\n          <div class=\"col-md-12 bg-white px-4\" style=\"height:200px;border-radius:15px;box-shadow: 0 6px 14px -7px grey;\">\r\n            <h5 class=\"mb-0 pt-4 pb-1 fw-300 text-muted font-poppins\" style=\"font-size:13px\">Interessados em Indicar</h5>\r\n            <h3 class=\"display-3 pt-0 mt-n2 mb-0\" style=\"margin-left: -4px;font-weight:800;background: linear-gradient(88deg, rgb(69 255 145 / 95%), rgb(57 116 146));-webkit-background-clip: text;-webkit-text-fill-color: transparent;\">{{quantInteressados}}</h3>\r\n            <p class=\"mt-n1 fw-200 font-poppins\" style=\"font-size: 11px;\">pessoas</p>\r\n            <img src=\"../assets/linha-2.png\" style=\"width: 112px;\" alt=\"\">\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-3 px-1\">\r\n          <div class=\"col-md-12 bg-white px-4 overflow-hidden\" style=\"height: 410px;border-radius:15px;box-shadow: 0 6px 14px -7px grey;\">\r\n            <h5 class=\"pb-1 pt-4 pb-2 fw-300 text-muted font-poppins\" style=\"font-size:13px\">Indicações Recentes</h5>\r\n            <div class=\"row px-3\" v-for=\"(index, item) in Recentes\" :key=\"item\">\r\n              <div class=\"col-md-12 bg-light border rounded py-2 mb-2\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-md-7 pr-0 pb-0 mb-0\">\r\n                    <p style=\"font-size: 9px;font-weight:600\" contenteditable=\"true\" class=\"mb-0 text-muted\">{{index.form['Nome']}}</p>\r\n                  </div>\r\n                  <div class=\"col-md-5\">\r\n                    <p style=\"font-size: 9px;font-weight:600\" class=\"text-right text-muted mb-1\" v-dates-format=\"index.dataCriacao\"></p>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                  <div class=\"col-md-12\">\r\n                    <p style=\"font-size: 9px;\" class=\"mb-0 fw-300 text-muted\">Email: {{index.form['Email']}}; telefone: {{index.form['Cel']}}; CPF: {{index.form['CPF']}}&nbsp;</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-12 bg-white mt-2 px-4\" style=\"height: 200px;border-radius:15px;box-shadow: 0 6px 14px -7px grey;\" draggable=\"true\">\r\n            <h5 class=\"mb-0 pt-4 pb-2 font-poppins fw-300 text-muted\" style=\"font-size:13px\">Status (Reportado Vs Pendente)</h5>\r\n            <i class=\"w-100 pt-4 mt-2 fas text-center fa-chart-pie fa-4x\" style=\"color: rgb(208 208 208 / 95%);\"></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"py-5\" style=\"margin-top:-480px\">\r\n    <div class=\"container-fluid px-5\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-3 px-1\">\r\n          <div class=\"col-md-12 bg-white px-4 pr-4 overflow-hidden\" style=\"height: 412px;border-radius:15px;box-shadow: 0 6px 14px -7px grey;\">\r\n            <h5 class=\"mb-2 pt-4 pb-2 font-poppins text-muted fw-300\" style=\"font-size:13px\">Principais Indicadores</h5>\r\n            <card-principais\r\n            :data=\"index\"\r\n            :key=\"item\"\r\n            v-for=\"(index, item) in quantPrincipais\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-6 px-1\">\r\n          <div class=\"col-md-12 bg-white px-4\" style=\"height: 200px;border-radius:15px;box-shadow: 0 6px 14px -7px grey;\">\r\n            <h5 class=\"mb-0 pt-4 pb-2 font-poppins text-muted fw-300\" style=\"font-size:13px\">Anúncios que mais Performaram (Convertidos Vs Data)</h5>\r\n            <i class=\"w-100 pt-4 mt-2 fas text-center fa-chart-line fa-4x\" style=\"color: rgb(208 208 208 / 95%);\"></i>\r\n          </div>\r\n          <div class=\"col-md-12 bg-white mt-2 px-4\" style=\"height: 200px;border-radius:15px;box-shadow: 0 6px 14px -7px grey;\">\r\n            <h5 class=\"mb-0 pt-4 pb-2 font-poppins text-muted fw-300\" style=\"font-size:13px\">Quantidade de Indicações por Anuncio (Qtd. Indicações Vs Data)</h5>\r\n            <i class=\"w-100 pt-4 mt-2 fas text-center fa-chart-bar fa-4x\" style=\"color: rgb(208 208 208 / 95%);\"></i>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-3\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n   </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CardPrincipais from '../components/business/CardPrincipais'\r\nimport SvgIcons from '../components/global/SvgIcons'\r\nimport { auth, db } from '../firebase'\r\n\r\nexport default {\r\n  name: 'DashboardBs',\r\n  components: {\r\n    SvgIcons,\r\n    CardPrincipais\r\n  },\r\n  data () {\r\n    return {\r\n      idbusiness: null,\r\n      iduser: null,\r\n      recebidos: [],\r\n      convertidos: [],\r\n      interessados: [],\r\n      teste: null\r\n    }\r\n  },\r\n  created () {\r\n    this.$root.$emit('Business::show')\r\n    this.$root.$emit('MenuBar::hide')\r\n    this.idbusiness = this.$route.params.id\r\n    var user = auth.currentUser\r\n    if (user != null) {\r\n      this.iduser = user.uid\r\n    }\r\n    this.getData()\r\n  },\r\n  computed: {\r\n    /* eslint-disable */\r\n    quantRecebidos () {\r\n      if (this.recebidos !== null) {\r\n        return this.recebidos.length\r\n      } else {\r\n        return 0\r\n      }\r\n    },\r\n    Recentes () {\r\n      if (this.recebidos !== null) {\r\n        return this.recebidos.sort((a, b) => {\r\n          return b.dataCriacao - a.dataCriacao\r\n        })\r\n      } else {\r\n        return 0\r\n      }\r\n    },\r\n    quantConvertidos () {\r\n      if (this.convertidos !== null) {\r\n        return this.convertidos.length\r\n      } else {\r\n        return 0\r\n      }\r\n    },\r\n    copiaRecebidos () {\r\n      if (this.recebidos !== null) {\r\n        const copia = this.recebidos.slice()\r\n        return copia\r\n      } else {\r\n        return 0\r\n      }\r\n    },\r\n    FiltroRecebidos () {\r\n      if (this.copiaRecebidos !== null) {\r\n        return this.copiaRecebidos.sort((a, b) => {\r\n          return a.dataCriacao - b.dataCriacao\r\n        })\r\n      } else {\r\n        return 0\r\n      }\r\n    },\r\n    quantPrincipais () {\r\n      if (this.FiltroRecebidos !== null) {\r\n        return this.FiltroRecebidos.filter(function (a) {\r\n\t      return !this[JSON.stringify(a.user)] && (this[JSON.stringify(a.user)] = true);\r\n        }, Object.create(null))\r\n      } else {\r\n        return 0\r\n      }\r\n    },\r\n    quantInteressados () {\r\n      if (this.interessados !== null) {\r\n        const teste = this.interessados\r\n        return 0\r\n      } else {\r\n        return 0\r\n      }\r\n    }\r\n    /* eslint-enable */\r\n  },\r\n  methods: {\r\n    getData () {\r\n      const ref = db.collection('cardsbusiness').doc(this.idbusiness).collection('Forms').get()\r\n      ref.then(snapshot => {\r\n        snapshot.forEach(doc => {\r\n          this.recebidos.push(doc.data())\r\n        })\r\n      })\r\n      const refc = db.collection('cardsbusiness').doc(this.idbusiness).collection('Forms')\r\n        .where('vistoempresa', 'in', ['Venda realizada', 'Cadastro efetuado', 'Conversão realizada'])\r\n        .get()\r\n      refc.then(snapshot => {\r\n        snapshot.forEach(doc => {\r\n          this.convertidos.push(doc.data())\r\n        })\r\n      })\r\n      const refi = db.collection('mercado').where('idbusiness', '==', this.idbusiness).get()\r\n      refi.then(snapshot => {\r\n        snapshot.forEach(doc => {\r\n          this.interessados.push(doc.data())\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}