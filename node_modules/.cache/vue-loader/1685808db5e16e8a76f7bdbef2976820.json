{"remainingRequest":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\indicou\\desenvolvimento\\Indicou\\src\\views\\StatusBS.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\indicou\\desenvolvimento\\Indicou\\src\\views\\StatusBS.vue","mtime":1623890182047},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgJ3Z1ZTItZGF0ZXBpY2tlci9zY3NzL2luZGV4LnNjc3MnDQppbXBvcnQgJ3Z1ZTItZGF0ZXBpY2tlci9sb2NhbGUvcHQtYnInDQppbXBvcnQgRGF0ZVBpY2tlciBmcm9tICd2dWUyLWRhdGVwaWNrZXInDQppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCcNCmltcG9ydCB7IGRiLCBhdXRoIH0gZnJvbSAnLi4vZmlyZWJhc2UnDQppbXBvcnQgQ2FyZEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9idXNpbmVzcy9DYXJkRm9ybS52dWUnDQppbXBvcnQgU3ZnSWNvbnMgZnJvbSAnLi4vY29tcG9uZW50cy9nbG9iYWwvU3ZnSWNvbnMnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ1N0YXR1c0JTJywNCiAgY29tcG9uZW50czogew0KICAgIENhcmRGb3JtLA0KICAgIFN2Z0ljb25zLA0KICAgIERhdGVQaWNrZXINCiAgfSwNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGlkdXNlcjogbnVsbCwNCiAgICAgIGlkYnVzaW5lc3M6IG51bGwsDQogICAgICBmb3Jtc0F0aXZvOiBbXSwNCiAgICAgIHJhbmdlOiBbXSwNCiAgICAgIGRhdGExOiBudWxsLA0KICAgICAgZGF0YTI6IG51bGwsDQogICAgICBtZW5vckRhdGE6ICcnLA0KICAgICAgaWRjYXJkOiBudWxsLA0KICAgICAgbGFiZWxzOiB7DQogICAgICAgIG5vbWVVc2VyOiAnUXVlbSBJbmRpY291JywNCiAgICAgICAgaWRmb3JtOiAnSURGb3JtdWxhcmlvJywNCiAgICAgICAgdmlzdG9lbXByZXNhOiAnU3RhdHVzRW1wcmVzYScsDQogICAgICAgIHRpcG9jb21pc3NhbzogJ1RpcG8gZGEgQ29taXNzYW8nLA0KICAgICAgICB2YWxvcmNvbWlzc2FvOiAnVmFsb3IgZGEgQ29taXNzYW8nLA0KICAgICAgICBTdGF0dXNFbXByZXNhOiAnU3RhdHVzJywNCiAgICAgICAgY29taXNzYW86ICdDb21pc3NvZXMnLA0KICAgICAgICBpZGNhcmQ6ICdJRENhcmQnLA0KICAgICAgICBjb250Zm9ybTogJ0lERm9ybXVsYXJpbycsDQogICAgICAgIGRhdGE6ICdEYXRhQ3JpYWNhbycsDQogICAgICAgIGZvcm06ICdGb3JtdWxhcmlvJw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAvKiBlc2xpbnQtZGlzYWJsZSAqLw0KICAgIGZpbHRyb01vdW50aCAoKSB7DQogICAgICBpZiAodGhpcy5mb3Jtc0F0aXZvICE9PSBudWxsKSB7DQogICAgICAgIHJldHVybiB0aGlzLmZvcm1zQXRpdm8uc29ydChmdW5jdGlvbiAoYSwgYikgew0KICAgICAgICAgIHJldHVybiBhLmRhdGFDcmlhY2FvIC0gYi5kYXRhQ3JpYWNhbw0KICAgICAgICB9KQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybXNBdGl2bw0KICAgICAgfQ0KICAgIH0sDQogICAgbWFpb3JNb3VudGggKCkgew0KICAgICAgLyogZXNsaW50LWRpc2FibGUgKi8NCiAgICAgIGlmICh0aGlzLmZvcm1zQXRpdm8gIT09IG51bGwpIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybXNBdGl2by5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7DQogICAgICAgICAgcmV0dXJuIGIuZGF0YUNyaWFjYW8gLSBhLmRhdGFDcmlhY2FvDQogICAgICAgIH0pDQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gdGhpcy5mb3Jtc0F0aXZvDQogICAgICB9DQogICAgfSwNCiAgICBmaWx0cm8gKCkgew0KICAgICAgLyogZXNsaW50LWRpc2FibGUgKi8NCiAgICAgIGlmICh0aGlzLmZpbHRyb01vdW50aCAhPT0gbnVsbCkgew0KICAgICAgICByZXR1cm4gdGhpcy5maWx0cm9Nb3VudGgNCiAgICAgICAgICAgIC5maWx0ZXIoaW5kZXggPT4gKHRoaXMucmFuZ2VbMF0gPD0gbW9tZW50KGluZGV4LmRhdGFDcmlhY2FvKS5mb3JtYXQoJ0REL01NL1lZWVknKSAmJiBtb21lbnQoaW5kZXguZGF0YUNyaWFjYW8pLmZvcm1hdCgnREQvTU0vWVlZWScpIDw9IHRoaXMucmFuZ2VbMV0pKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdHJvTW91bnRoDQogICAgICB9DQogICAgfSwNCiAgICB0ZXN0ZUpzb24gKCkgew0KICAgICAgdmFyIHRlc3RlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmZpbHRybykpDQogICAgICBmb3IodmFyIGk9MDsgaTx0ZXN0ZS5sZW5ndGg7IGkrKykgew0KICAgICAgICBkZWxldGUgdGVzdGVbaV0uc3RhdHVzDQogICAgICAgIGRlbGV0ZSB0ZXN0ZVtpXS5jb21pc3Nhbw0KICAgICAgICB0ZXN0ZVtpXS5kYXRhID0gbW9tZW50KHRlc3RlW2ldLmRhdGFDcmlhY2FvKS5mb3JtYXQoJ0REL01NL1lZWVknKQ0KICAgICAgICBkZWxldGUgdGVzdGVbaV0uZGF0YUNyaWFjYW8NCiAgICAgICAgZGVsZXRlIHRlc3RlW2ldLnVzZXINCiAgICAgICAgdGVzdGVbaV0uZm9ybSA9IEpTT04uc3RyaW5naWZ5KHRlc3RlW2ldLmZvcm0pDQogICAgICB9DQogICAgICByZXR1cm4gdGVzdGUNCiAgICB9LA0KICAgIC8qIGVzbGludC1lbmFibGUgKi8NCiAgfSwNCiAgY3JlYXRlZCAoKSB7DQogICAgdGhpcy4kcm9vdC4kZW1pdCgnQnVzaW5lc3M6OnNob3cnKQ0KICAgIHRoaXMuJHJvb3QuJGVtaXQoJ01lbnVCYXI6OmhpZGUnKQ0KICAgIHRoaXMuaWRidXNpbmVzcyA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZA0KICAgIHRoaXMuaWRjYXJkID0gdGhpcy4kcm91dGUucGFyYW1zLmNhcmQNCiAgICB2YXIgdXNlciA9IGF1dGguY3VycmVudFVzZXINCiAgICBpZiAodXNlciAhPSBudWxsKSB7DQogICAgICB0aGlzLmlkdXNlciA9IHVzZXIudWlkDQogICAgfQ0KICAgIHRoaXMuZ2V0Rm9ybXMoKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZGF0ZVRlc3RlICgpIHsNCiAgICAgIGNvbnNvbGUubG9nKCdvaWknKQ0KICAgICAgdGhpcy5kYXRhMSA9IG1vbWVudCh0aGlzLmZpbHRyb01vdW50aFswXS5kYXRhQ3JpYWNhbykuZm9ybWF0KCdERC9NTS9ZWVlZJykNCiAgICAgIHRoaXMuZGF0YTIgPSBtb21lbnQodGhpcy5tYWlvck1vdW50aFswXS5kYXRhQ3JpYWNhbykuZm9ybWF0KCdERC9NTS9ZWVlZJykNCiAgICAgIHRoaXMucmFuZ2UgPSBbdGhpcy5kYXRhMSwgdGhpcy5kYXRhMl0NCiAgICB9LA0KICAgIGdldEZvcm1zICgpIHsNCiAgICAgIGNvbnN0IHJlZiA9IGRiLmNvbGxlY3Rpb24oJ2J1c2luZXNzJykuZG9jKHRoaXMuaWRidXNpbmVzcykuY29sbGVjdGlvbignQ2FyZHMnKS5kb2ModGhpcy5pZGNhcmQpLmNvbGxlY3Rpb24oJ0Zvcm1zJykuZ2V0KCkNCiAgICAgIHJlZi50aGVuKHNuYXBzaG90ID0+IHsNCiAgICAgICAgc25hcHNob3QuZm9yRWFjaChkb2MgPT4gew0KICAgICAgICAgIHRoaXMuZm9ybXNBdGl2by5wdXNoKGRvYy5kYXRhKCkpDQogICAgICAgIH0pDQogICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgdGhpcy5kYXRlVGVzdGUoKQ0KICAgICAgfSkNCiAgICB9DQogIH0NCn0NCg0K"},{"version":3,"sources":["StatusBS.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StatusBS.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"bg-light pb-5\">\r\n    <div class=\"hide\">\r\n      <svg-icons/>\r\n    </div>\r\n    <div class=\"container-fluid bg-light pb-5 mb-5 font-poppins\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12 pt-1 px-3\">\r\n          <ul class=\"breadcrumb bg-light border-muted border-bottom pl-4\" style=\"font-size: 13px;\">\r\n            <li class=\"breadcrumb-item text-muted fw-300\"> <a class=\"text-muted\" href=\"#\">Resultados</a> </li>\r\n            <li class=\"breadcrumb-item active\">Reportar Status Indicações</li>\r\n          </ul>\r\n          <h2 class=\"text-muted pl-4 py-2 mx-4 mb-4\" style=\"background:linear-gradient(89deg, rgb(239 239 239 / 35%) 0%, rgb(248, 249, 250) 100%);font-weight: 400;margin-left: 4px;border: 1px solid rgb(242 242 242);;border-radius: 6px;\">\r\n              <b><i class=\"fas fa-1x fa-stopwatch pr-3\" style=\"color: #91f89a;-webkit-text-stroke: 1px rgb(57, 57, 57);\"></i>Status Indicações</b>\r\n          </h2>\r\n          <div class=\"row\">\r\n            <div class=\"col-md-2\">\r\n              <div class=\"btn-group dropright ml-5\">\r\n                <button class=\"btn btn-primary dropdown-toggle logbtn\" data-toggle=\"dropdown\"> Exportar Dados</button>\r\n                <div class=\"dropdown-menu\">\r\n                  <button class=\"dropdown-item\" type=\"button\">\r\n                    <download-csv\r\n                      :data=\"testeJson\"\r\n                      :name=\"idcard+'.csv'\"\r\n                      :separator-excel=\"true\"\r\n                      :labels=\"labels\"\r\n                      >\r\n                      Exportar em CSV\r\n                    </download-csv>\r\n                  </button>\r\n                  <div class=\"dropdown-divider\"></div>\r\n                  <a class=\"dropdown-item\" href=\"#\" style=\"\">Exportar em XML</a>\r\n                  <div class=\"dropdown-divider\"></div>\r\n                  <a class=\"dropdown-item\" href=\"#\" style=\"\">Exportar em TXT</a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-md-5\"></div>\r\n            <div class=\"col-md-5\" style=\"padding-right: 30px;\">\r\n              <div class=\"form-group row\">\r\n                <label for=\"example-date-input\" class=\"col-2 col-form-label text-right\">Período:</label>\r\n                <div class=\"col-5 pr-4 pl-0\">\r\n                  <date-picker v-model=\"range\" range-separator=\" - \" lang=\"pt-br\" value-type=\"format\" format=\"DD/MM/YYYY\" range id=\"example-date-input\"/>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"mx-5 accordion\" id=\"accordionExample\">\r\n        <card-form\r\n        :key=\"item\"\r\n        :data=\"index\"\r\n        v-for=\"(index, item) in filtro\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport 'vue2-datepicker/scss/index.scss'\r\nimport 'vue2-datepicker/locale/pt-br'\r\nimport DatePicker from 'vue2-datepicker'\r\nimport moment from 'moment'\r\nimport { db, auth } from '../firebase'\r\nimport CardForm from '../components/business/CardForm.vue'\r\nimport SvgIcons from '../components/global/SvgIcons'\r\n\r\nexport default {\r\n  name: 'StatusBS',\r\n  components: {\r\n    CardForm,\r\n    SvgIcons,\r\n    DatePicker\r\n  },\r\n  data () {\r\n    return {\r\n      iduser: null,\r\n      idbusiness: null,\r\n      formsAtivo: [],\r\n      range: [],\r\n      data1: null,\r\n      data2: null,\r\n      menorData: '',\r\n      idcard: null,\r\n      labels: {\r\n        nomeUser: 'Quem Indicou',\r\n        idform: 'IDFormulario',\r\n        vistoempresa: 'StatusEmpresa',\r\n        tipocomissao: 'Tipo da Comissao',\r\n        valorcomissao: 'Valor da Comissao',\r\n        StatusEmpresa: 'Status',\r\n        comissao: 'Comissoes',\r\n        idcard: 'IDCard',\r\n        contform: 'IDFormulario',\r\n        data: 'DataCriacao',\r\n        form: 'Formulario'\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    /* eslint-disable */\r\n    filtroMounth () {\r\n      if (this.formsAtivo !== null) {\r\n        return this.formsAtivo.sort(function (a, b) {\r\n          return a.dataCriacao - b.dataCriacao\r\n        })\r\n      } else {\r\n        return this.formsAtivo\r\n      }\r\n    },\r\n    maiorMounth () {\r\n      /* eslint-disable */\r\n      if (this.formsAtivo !== null) {\r\n        return this.formsAtivo.sort(function (a, b) {\r\n          return b.dataCriacao - a.dataCriacao\r\n        })\r\n      } else {\r\n        return this.formsAtivo\r\n      }\r\n    },\r\n    filtro () {\r\n      /* eslint-disable */\r\n      if (this.filtroMounth !== null) {\r\n        return this.filtroMounth\r\n            .filter(index => (this.range[0] <= moment(index.dataCriacao).format('DD/MM/YYYY') && moment(index.dataCriacao).format('DD/MM/YYYY') <= this.range[1]))\r\n      } else {\r\n        return this.filtroMounth\r\n      }\r\n    },\r\n    testeJson () {\r\n      var teste = JSON.parse(JSON.stringify(this.filtro))\r\n      for(var i=0; i<teste.length; i++) {\r\n        delete teste[i].status\r\n        delete teste[i].comissao\r\n        teste[i].data = moment(teste[i].dataCriacao).format('DD/MM/YYYY')\r\n        delete teste[i].dataCriacao\r\n        delete teste[i].user\r\n        teste[i].form = JSON.stringify(teste[i].form)\r\n      }\r\n      return teste\r\n    },\r\n    /* eslint-enable */\r\n  },\r\n  created () {\r\n    this.$root.$emit('Business::show')\r\n    this.$root.$emit('MenuBar::hide')\r\n    this.idbusiness = this.$route.params.id\r\n    this.idcard = this.$route.params.card\r\n    var user = auth.currentUser\r\n    if (user != null) {\r\n      this.iduser = user.uid\r\n    }\r\n    this.getForms()\r\n  },\r\n  methods: {\r\n    dateTeste () {\r\n      console.log('oii')\r\n      this.data1 = moment(this.filtroMounth[0].dataCriacao).format('DD/MM/YYYY')\r\n      this.data2 = moment(this.maiorMounth[0].dataCriacao).format('DD/MM/YYYY')\r\n      this.range = [this.data1, this.data2]\r\n    },\r\n    getForms () {\r\n      const ref = db.collection('business').doc(this.idbusiness).collection('Cards').doc(this.idcard).collection('Forms').get()\r\n      ref.then(snapshot => {\r\n        snapshot.forEach(doc => {\r\n          this.formsAtivo.push(doc.data())\r\n        })\r\n      }).then(() => {\r\n        this.dateTeste()\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n@import url(https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css);\r\nhtml,\r\nbody {\r\n  overflow-x: hidden;\r\n  font-family: 'Poppins', sans-serif;\r\n}\r\n.btn:focus{\r\n  box-shadow: unset!important;\r\n}\r\n.logbtn{\r\n  border: none;\r\n  background: linear-gradient(120deg,#7bff86,#44adad,#34db74);\r\n  background-size: 200%;\r\n  color: #fff;\r\n  font-size: 15px;\r\n  font-family: 'Poppins', sans-serif;\r\n  outline: none;\r\n  cursor: pointer;\r\n  transition: .5s;\r\n}\r\n</style>\r\n"]}]}