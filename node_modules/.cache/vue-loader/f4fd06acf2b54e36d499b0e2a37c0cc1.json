{"remainingRequest":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\indicou\\desenvolvimento\\Indicou\\src\\components\\business\\CardMyAdBS.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\indicou\\desenvolvimento\\Indicou\\src\\components\\business\\CardMyAdBS.vue","mtime":1622602924434},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhdXRoLCBkYiB9IGZyb20gJy4uLy4uL2ZpcmViYXNlJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdDYXJkTXknLA0KICBwcm9wczogew0KICAgIGRhdGE6IHsgdHlwZTogT2JqZWN0LCByZXF1aXJlZDogdHJ1ZSB9DQogIH0sDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICBpZHVzZXI6ICcnLA0KICAgICAgbWFyY2E6ICcnLA0KICAgICAgaWRidXNpbmVzczogJycsDQogICAgICBpZDogdGhpcy5kYXRhLmlkLA0KICAgICAgdGl0dWxvOiB0aGlzLmRhdGEudGl0dWxvLA0KICAgICAgc29icmU6IHRoaXMuZGF0YS5zb2JyZSwNCiAgICAgIGZpbHRybzogdGhpcy5kYXRhLmZpbHRybywNCiAgICAgIHRpcG9uZWdvY2lvOiB0aGlzLmRhdGEudGlwb25lZ29jaW8sDQogICAgICB0ZXJtbzogdGhpcy5kYXRhLnRlcm1vLA0KICAgICAgdGlwbzogdGhpcy5kYXRhLnRpcG8sDQogICAgICBpbWFnZW06IHRoaXMuZGF0YS5pbWFnZW0sDQogICAgICBjb21pc3NhbzogdGhpcy5kYXRhLmNvbWlzc2FvLA0KICAgICAgcmVnaWFvOiB0aGlzLmRhdGEucmVnaWFvLA0KICAgICAgbG9jYWlzOiB0aGlzLmRhdGEubG9jYWlzLA0KICAgICAgZm9ybXM6IHRoaXMuZGF0YS5mb3JtcywNCiAgICAgIGZpc2ljbzogdGhpcy5kYXRhLmZpc2ljbywNCiAgICAgIGRhdGFDcmlhY2FvOiB0aGlzLmRhdGEuZGF0YUNyaWFjYW8NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQgKCkgew0KICAgIHRoaXMuZ2V0VXNlcigpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBnZXRVc2VyICgpIHsNCiAgICAgIHZhciB1c2VyID0gYXV0aC5jdXJyZW50VXNlcg0KICAgICAgaWYgKHVzZXIgIT0gbnVsbCkgew0KICAgICAgICB0aGlzLmlkdXNlciA9IHVzZXIudWlkDQogICAgICB9DQogICAgICBjb25zdCByZWYgPSBkYi5jb2xsZWN0aW9uKCd1c2VycycpLmRvYyh0aGlzLmlkdXNlcikuZ2V0KCkNCiAgICAgIHJlZi50aGVuKGRvYyA9PiB7DQogICAgICAgIHRoaXMuaWRidXNpbmVzcyA9IGRvYy5kYXRhKCkuYnVzaW5lc3NpZA0KICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgIGRiLmNvbGxlY3Rpb24oJ2J1c2luZXNzJykuZG9jKHRoaXMuaWRidXNpbmVzcykuZ2V0KCkNCiAgICAgICAgICAudGhlbihkb2MgPT4gew0KICAgICAgICAgICAgdGhpcy5tYXJjYSA9IGRvYy5kYXRhKCkubWFyY2ENCiAgICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHB1YmxpY2FyQ2FyZCAoKSB7DQogICAgICBpZiAodGhpcy5sb2NhaXMgPT09IHVuZGVmaW5lZCkgew0KICAgICAgICB0aGlzLmxvY2FpcyA9IFtdDQogICAgICB9DQogICAgICBpZiAodGhpcy5kYXRhQ3JpYWNhbyA9PT0gdW5kZWZpbmVkKSB7DQogICAgICAgIHRoaXMuZGF0YUNyaWFjYW8gPSAnJw0KICAgICAgfQ0KICAgICAgZGIuY29sbGVjdGlvbignbWVyY2FkbycpLmRvYyh0aGlzLmlkKS5zZXQoew0KICAgICAgICBpZDogdGhpcy5pZCwNCiAgICAgICAgdGl0dWxvOiB0aGlzLnRpdHVsbywNCiAgICAgICAgc29icmU6IHRoaXMuc29icmUsDQogICAgICAgIGZpbHRybzogdGhpcy5maWx0cm8sDQogICAgICAgIHRpcG9uZWdvY2lvOiB0aGlzLnRpcG9uZWdvY2lvLA0KICAgICAgICB0ZXJtbzogdGhpcy50ZXJtbywNCiAgICAgICAgdGlwbzogdGhpcy50aXBvLA0KICAgICAgICBlbXByZXNhOiB0aGlzLm1hcmNhLA0KICAgICAgICBpbWFnZW06IHRoaXMuaW1hZ2VtLA0KICAgICAgICB1aWQ6IHRoaXMuaWR1c2VyLA0KICAgICAgICBjb21pc3NhbzogdGhpcy5jb21pc3NhbywNCiAgICAgICAgcmVnaWFvOiB0aGlzLnJlZ2lhbywNCiAgICAgICAgbG9jYWlzOiB0aGlzLmxvY2FpcywNCiAgICAgICAgZm9ybXM6IHRoaXMuZm9ybXMsDQogICAgICAgIGZpc2ljbzogdGhpcy5maXNpY28sDQogICAgICAgIGlkYnVzaW5lc3M6IHRoaXMuaWRidXNpbmVzcywNCiAgICAgICAgZGF0YUNyaWFjYW86IHRoaXMuZGF0YUNyaWFjYW8sDQogICAgICAgIGF0aXZvOiAnQXRpdm8nDQogICAgICB9LCB7IG1lcmdlOiB0cnVlIH0pDQogICAgICBkYi5jb2xsZWN0aW9uKCdidXNpbmVzcycpLmRvYyh0aGlzLmlkYnVzaW5lc3MpLmNvbGxlY3Rpb24oJ0NhcmRzJykuZG9jKHRoaXMuaWQpLnNldCh7DQogICAgICAgIGF0aXZvOiAnQXRpdm8nDQogICAgICB9LCB7IG1lcmdlOiB0cnVlIH0pLnRoZW4oKCkgPT4gew0KICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oKQ0KICAgICAgfSkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["CardMyAdBS.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CardMyAdBS.vue","sourceRoot":"src/components/business","sourcesContent":["<template>\r\n<div class=\"col-md-12 shadow border bg-white mb-2\" style=\"border-bottom-right-radius: 10px;border-top-right-radius: 10px;border-bottom-left-radius: 10px;border-top-left-radius: 10px;\">\r\n  <div class=\"row align-items-center\">\r\n    <div class=\"col-md-3\"><img class=\"img-fluid d-block border mx-auto my-3 rounded teste\" :src=\"data.imagem\" height=\"200px\" width=\"200px\"></div>\r\n       <div class=\"col-md-8 pt-0\">\r\n        <h4 class=\"mb-0\" style=\"font-weight:600\">{{data.titulo}}</h4>\r\n          <p>{{marca}}</p>\r\n          <div class=\"row\">\r\n          <div class=\"col-md-3 border-left ml-2 \" :key=\"item\" v-for=\"(comissao, item) in data.comissao\">\r\n              <p class=\"lead mb-0\" style=\"font-weight: 600;\" v-money-format=\"comissao.valorcomissao\"></p>\r\n              <p style=\"font-size:14px\" class=\"mb-0\">Comissão por {{comissao.tipocomissao}}</p>\r\n              </div>\r\n              <div class=\"col-md-2\"></div>\r\n                </div>\r\n                  <span class=\"badge badge-info badge-pill mt-2 mr-1\" style=\"font-size:10px\">Indicação via {{data.tipo}}</span>\r\n                  <p class=\"mt-2 mb-0 pt-1\">Data publicação: <span v-date-format=\"data.dataCriacao\"></span></p>\r\n                    </div>\r\n                  <div class=\"col-md-1 text-center d-flex flex-column justify-content-center align-items-center\">\r\n                    <div class=\"btn-group  dropleft\">\r\n                      <button class=\"btn \" data-toggle=\"dropdown\"><i class=\"fa fa-ellipsis-v fa-2x text-body\"></i></button>\r\n                  <div class=\"dropdown-menu\" style=\"\"> <a class=\"dropdown-item\" href=\"#\"><i class=\"fa fa-cogs fa-1x text-body pr-2\"></i>Editar Anúncio</a>\r\n                    <div class=\"dropdown-divider\"></div>\r\n                  <a class=\"dropdown-item\" href=\"#\"><i class=\"fa fa-trash fa-1x text-danger pr-2\"></i>Excluir</a>\r\n                <div class=\"dropdown-divider\"></div>\r\n                <button\r\n              @click=\"publicarCard()\"\r\n            class=\"dropdown-item\"><i class=\"fa fa-power-off fa-1x text-body pr-2\"></i>Publicar</button>\r\n         </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { auth, db } from '../../firebase'\r\n\r\nexport default {\r\n  name: 'CardMy',\r\n  props: {\r\n    data: { type: Object, required: true }\r\n  },\r\n  data () {\r\n    return {\r\n      iduser: '',\r\n      marca: '',\r\n      idbusiness: '',\r\n      id: this.data.id,\r\n      titulo: this.data.titulo,\r\n      sobre: this.data.sobre,\r\n      filtro: this.data.filtro,\r\n      tiponegocio: this.data.tiponegocio,\r\n      termo: this.data.termo,\r\n      tipo: this.data.tipo,\r\n      imagem: this.data.imagem,\r\n      comissao: this.data.comissao,\r\n      regiao: this.data.regiao,\r\n      locais: this.data.locais,\r\n      forms: this.data.forms,\r\n      fisico: this.data.fisico,\r\n      dataCriacao: this.data.dataCriacao\r\n    }\r\n  },\r\n  created () {\r\n    this.getUser()\r\n  },\r\n  methods: {\r\n    getUser () {\r\n      var user = auth.currentUser\r\n      if (user != null) {\r\n        this.iduser = user.uid\r\n      }\r\n      const ref = db.collection('users').doc(this.iduser).get()\r\n      ref.then(doc => {\r\n        this.idbusiness = doc.data().businessid\r\n      }).then(() => {\r\n        db.collection('business').doc(this.idbusiness).get()\r\n          .then(doc => {\r\n            this.marca = doc.data().marca\r\n          })\r\n      })\r\n    },\r\n    publicarCard () {\r\n      if (this.locais === undefined) {\r\n        this.locais = []\r\n      }\r\n      if (this.dataCriacao === undefined) {\r\n        this.dataCriacao = ''\r\n      }\r\n      db.collection('mercado').doc(this.id).set({\r\n        id: this.id,\r\n        titulo: this.titulo,\r\n        sobre: this.sobre,\r\n        filtro: this.filtro,\r\n        tiponegocio: this.tiponegocio,\r\n        termo: this.termo,\r\n        tipo: this.tipo,\r\n        empresa: this.marca,\r\n        imagem: this.imagem,\r\n        uid: this.iduser,\r\n        comissao: this.comissao,\r\n        regiao: this.regiao,\r\n        locais: this.locais,\r\n        forms: this.forms,\r\n        fisico: this.fisico,\r\n        idbusiness: this.idbusiness,\r\n        dataCriacao: this.dataCriacao,\r\n        ativo: 'Ativo'\r\n      }, { merge: true })\r\n      db.collection('business').doc(this.idbusiness).collection('Cards').doc(this.id).set({\r\n        ativo: 'Ativo'\r\n      }, { merge: true }).then(() => {\r\n        this.$router.go()\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.teste{\r\n  max-width: 180px;\r\n  min-width: 180px;\r\n  min-height: 180px;\r\n  max-height: 180px;\r\n  object-fit: cover;\r\n}\r\n</style>\r\n"]}]}