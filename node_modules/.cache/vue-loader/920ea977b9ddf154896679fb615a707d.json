{"remainingRequest":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\indicou\\desenvolvimento\\Indicou\\src\\views\\HomeBS.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\indicou\\desenvolvimento\\Indicou\\src\\views\\HomeBS.vue","mtime":1625179179287},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhdXRoLCBkYiwgc3QgfSBmcm9tICcuLi9maXJlYmFzZScNCmltcG9ydCBQcmVsb2FkZXIgZnJvbSAnLi4vY29tcG9uZW50cy9nbG9iYWwvUHJlbG9hZGVyLnZ1ZScNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0J1c2luZXNzJywNCiAgY29tcG9uZW50czogew0KICAgIFByZWxvYWRlcg0KICB9LA0KICBkYXRhICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcGVyZmlsOiAnJywNCiAgICAgIGZpbGVuYW1lOiBudWxsLA0KICAgICAgbWFyY2E6ICcnLA0KICAgICAgcmFtbzogJycsDQogICAgICB1c2VydWlkOiAnJywNCiAgICAgIGxvYWRpbmc6IGZhbHNlLA0KICAgICAgY29udGFub3JtYWw6IHRydWUNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQgKCkgew0KICAgIHRoaXMuJHJvb3QuJGVtaXQoJ0J1c2luZXNzOjpoaWRlJykNCiAgICB0aGlzLiRyb290LiRlbWl0KCdNZW51QmFyOjpoaWRlJykNCiAgICB2YXIgdXNlciA9IGF1dGguY3VycmVudFVzZXINCiAgICBpZiAodXNlciAhPSBudWxsKSB7DQogICAgICB0aGlzLnVzZXJ1aWQgPSB1c2VyLnVpZA0KICAgIH0NCiAgICBjb25zdCByZWYgPSBkYi5jb2xsZWN0aW9uKCd1c2VycycpLmRvYyh0aGlzLnVzZXJ1aWQpLmdldCgpDQogICAgcmVmLnRoZW4oZG9jID0+IHsNCiAgICAgIHRoaXMuYnVzaW5lc3MgPSBkb2MuZGF0YSgpLmJ1c2luZXNzDQogICAgICB0aGlzLnRhZyA9IGRvYy5kYXRhKCkuYnVzaW5lc3NpZA0KICAgIH0pLnRoZW4oKCkgPT4gew0KICAgICAgaWYgKHRoaXMuYnVzaW5lc3MgPT09IHRydWUpIHsNCiAgICAgICAgdGhpcy5jb250YW5vcm1hbCA9IGZhbHNlDQogICAgICB9DQogICAgfSkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIG9uRmlsZSAoZXZlbnQpIHsNCiAgICAgIHRoaXMucGVyZmlsID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdDQogICAgICB0aGlzLmZpbGVuYW1lID0gdGhpcy5wZXJmaWwubmFtZQ0KICAgICAgdGhpcy5pbWcgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMucGVyZmlsKQ0KICAgIH0sDQogICAgYXN5bmMgQnVzaW5lc3MgKCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQ0KICAgICAgICB2YXIgdXNlciA9IGF1dGguY3VycmVudFVzZXINCiAgICAgICAgaWYgKHVzZXIgIT0gbnVsbCkgew0KICAgICAgICAgIHRoaXMudXNlcnVpZCA9IHVzZXIudWlkDQogICAgICAgIH0NCg0KICAgICAgICBpZiAodGhpcy5wZXJmaWwpIHsNCiAgICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IHN0LnJlZih0aGlzLnVzZXJ1aWQpLmNoaWxkKHRoaXMuZmlsZW5hbWUpLnB1dCh0aGlzLnBlcmZpbCkNCg0KICAgICAgICAgIHRoaXMudXJsID0gYXdhaXQgc25hcHNob3QucmVmLmdldERvd25sb2FkVVJMKCkNCiAgICAgICAgfQ0KICAgICAgfSBjYXRjaCAoZXJyKSB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycikNCiAgICAgIH0NCg0KICAgICAgdmFyIGNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpDQogICAgICB2YXIgb2xhID0gY3J5cHRvLnJhbmRvbUJ5dGVzKDIwKS50b1N0cmluZygnaGV4JykNCg0KICAgICAgdGhpcy5hbGUgPSBvbGENCiAgICAgIGRiLmNvbGxlY3Rpb24oJ2J1c2luZXNzJykuZG9jKHRoaXMuYWxlKS5zZXQoew0KICAgICAgICBtYXJjYTogdGhpcy5tYXJjYSwNCiAgICAgICAgcmFtbzogdGhpcy5yYW1vLA0KICAgICAgICBidXNpbmVzc2ltZzogdGhpcy51cmwNCiAgICAgIH0pLnRoZW4oKCkgPT4gew0KICAgICAgICBkYi5jb2xsZWN0aW9uKCd1c2VycycpLmRvYyh0aGlzLnVzZXJ1aWQpLnNldCh7DQogICAgICAgICAgYnVzaW5lc3NpZDogdGhpcy5hbGUsDQogICAgICAgICAgYnVzaW5lc3M6IHRydWUNCiAgICAgICAgfSwgeyBtZXJnZTogdHJ1ZSB9KQ0KICAgICAgICAgIC50aGVuKCgpID0+IHsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZScpLmNsaWNrKCkNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ0Rhc2hib2FyZCcsIHBhcmFtczogeyBpZDogdGhpcy5hbGUgfSB9KQ0KICAgICAgICAgIH0pDQogICAgICB9KQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["HomeBS.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HomeBS.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <preloader></preloader>\r\n    <div class=\"py-5 text-white h-100 align-items-center d-flex bg-business\" style=\"\">\r\n    <div class=\"container py-5\">\r\n      <div class=\"row\">\r\n        <div class=\" col-lg-9 col-md-10\">\r\n          <h1 class=\"mb-4 display-2\"><b>Seja <span style=\"color:#7bff86;font-weight:700\">Bem Vindo</span> ao Indicou Business!</b></h1>\r\n          <h5 class=\"pb-3 font-poppins\">Para Realizar a Criação e Publicação de Anúncios é necessário realizar um upgrade da sua conta para business! É gratuito! Bora?!\r\n          </h5>\r\n          <a href=\"#\" v-if=\"contanormal\" class=\"btn btn-primary btn-lg text-white \" style=\"background-color: #7bff86;font-weight:700;text-shadow:rgb(73, 148, 100) 1px 0px 12px;width:250px;\" data-toggle=\"modal\" data-target=\"#upgrade\">Eu Quero Anunciar</a>\r\n          <router-link :to=\"{name: 'Dashboard', params: { id: this.tag }}\" v-else class=\"btn btn-primary btn-lg text-white \" style=\"background-color: #7bff86;font-weight:700;text-shadow:rgb(73, 148, 100) 1px 0px 12px;width:250px;\" >Entre na Dashboard</router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"modal mt-5\" id=\"upgrade\">\r\n    <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n      <div class=\"modal-content font-poppins\">\r\n        <form class=\"\"  @submit.prevent=\"Business()\">\r\n        <div class=\"modal-header border-bottom-0 pb-1 bg-light\" style=\"\">\r\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" id=\"close\"> <span >×</span> </button>\r\n        </div>\r\n        <div class=\"modal-body pt-0 bg-light\">\r\n          <h4 class=\"text-center px-3\">Antes de entrar no Indicou Business precisamos que você preencha alguns dados referentes ao seu negócio :) </h4>\r\n          <div class=\"row mt-3\">\r\n            <div class=\"col-md-4 pl-4 pr-0 pt-1\">\r\n              <label class=\"w-100 ml-4\"></label>\r\n              <img v-if=\"this.perfil == '' \" class=\"img-fluid d-block rounded-circle mx-auto my-2\" src=\"https://static.pingendo.com/img-placeholder-3.svg\" width=\"90%\">\r\n              <img v-else class=\"img-fluid d-block rounded-circle mx-auto my-2 teste\"  :src=\"this.img\" width=\"90%\">\r\n            </div>\r\n            <div class=\"col-md-8 pr-5 pt-1\">\r\n\r\n                <div class=\"form-group\">\r\n                  <p style=\"font-size:15px\" class=\"mb-1 mt-3\">Nome / Marca:</p>\r\n                  <input type=\"text\" class=\"form-control bg-light mt-0\" placeholder=\"Digite o nome do seu negócio...\" required v-model=\"marca\">\r\n                  </div>\r\n                <div class=\"form-group\">\r\n                  <p style=\"font-size:15px\" class=\"mb-1 mt-4\">Em qual ramo atua seu negócio?</p>\r\n                  <select class=\"form-control bg-light form-select\" aria-label=\"Default select example\" required v-model=\"ramo\">\r\n                    <option selected=\"\" value=\"\">Selecione uma atuação</option>\r\n                    <option value=\"Imobiliária\">Imobiliária</option>\r\n                    <option value=\"Rede Social\">Rede Social</option>\r\n                    <option value=\"Barbearia\">Barbearia</option>\r\n                    <option value=\"Eletrodoméstico\">Eletrodoméstico</option>\r\n                    <option value=\"E-book\">E-book</option>\r\n                    <option value=\"Pintura\">Pintura</option>\r\n                    <option value=\"Energia Solar\">Energia Solar</option>\r\n                    <option value=\"Outros\">Outros</option>\r\n                  </select>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                  <p style=\"font-size:15px\" class=\"mb-1 mt-3\">Sua LogoMarca:</p>\r\n                  <input\r\n                  type=\"file\"\r\n                  class=\"pl-0 form-control form-control-sm border-0 border-light w-100 mt-1 bg-light\"\r\n                  accept=\"image/jpeg\"\r\n                  @change=\"onFile\"\r\n                  required>\r\n                </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer border-top-0 d-flex flex-column justify-content-center align-items-center pb-4 bg-light\">\r\n          <button class=\"btn w-50 btn-dark btn-lg\" :disabled=\"loading\">\r\n            <template v-if=\"loading\">\r\n              Carregando... <i class=\"fas fa-spinner fa-spin\"></i>\r\n              </template>\r\n              <template v-else>\r\n                Começar agora!\r\n              </template>\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { auth, db, st } from '../firebase'\r\nimport Preloader from '../components/global/Preloader.vue'\r\nexport default {\r\n  name: 'Business',\r\n  components: {\r\n    Preloader\r\n  },\r\n  data () {\r\n    return {\r\n      perfil: '',\r\n      filename: null,\r\n      marca: '',\r\n      ramo: '',\r\n      useruid: '',\r\n      loading: false,\r\n      contanormal: true\r\n    }\r\n  },\r\n  created () {\r\n    this.$root.$emit('Business::hide')\r\n    this.$root.$emit('MenuBar::hide')\r\n    var user = auth.currentUser\r\n    if (user != null) {\r\n      this.useruid = user.uid\r\n    }\r\n    const ref = db.collection('users').doc(this.useruid).get()\r\n    ref.then(doc => {\r\n      this.business = doc.data().business\r\n      this.tag = doc.data().businessid\r\n    }).then(() => {\r\n      if (this.business === true) {\r\n        this.contanormal = false\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    onFile (event) {\r\n      this.perfil = event.target.files[0]\r\n      this.filename = this.perfil.name\r\n      this.img = URL.createObjectURL(this.perfil)\r\n    },\r\n    async Business () {\r\n      try {\r\n        this.loading = true\r\n        var user = auth.currentUser\r\n        if (user != null) {\r\n          this.useruid = user.uid\r\n        }\r\n\r\n        if (this.perfil) {\r\n          const snapshot = await st.ref(this.useruid).child(this.filename).put(this.perfil)\r\n\r\n          this.url = await snapshot.ref.getDownloadURL()\r\n        }\r\n      } catch (err) {\r\n        console.log(err)\r\n      }\r\n\r\n      var crypto = require('crypto')\r\n      var ola = crypto.randomBytes(20).toString('hex')\r\n\r\n      this.ale = ola\r\n      db.collection('business').doc(this.ale).set({\r\n        marca: this.marca,\r\n        ramo: this.ramo,\r\n        businessimg: this.url\r\n      }).then(() => {\r\n        db.collection('users').doc(this.useruid).set({\r\n          businessid: this.ale,\r\n          business: true\r\n        }, { merge: true })\r\n          .then(() => {\r\n            document.getElementById('close').click()\r\n            this.$router.push({ name: 'Dashboard', params: { id: this.ale } })\r\n          })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.teste{\r\n  max-width: 90%;\r\n  max-height: 90%;\r\n  min-width: 90%;\r\n  min-height: 90%;\r\n  object-fit: cover;\r\n}\r\n</style>\r\n"]}]}