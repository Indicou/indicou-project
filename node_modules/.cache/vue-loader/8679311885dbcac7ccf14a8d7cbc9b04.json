{"remainingRequest":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\indicou\\desenvolvimento\\Indicou\\src\\views\\HomeBS.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\indicou\\desenvolvimento\\Indicou\\src\\views\\HomeBS.vue","mtime":1621630000360},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\indicou\\desenvolvimento\\Indicou\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhdXRoLCBkYiwgc3QgfSBmcm9tICcuLi9maXJlYmFzZScNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0J1c2luZXNzJywNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHBlcmZpbDogJycsDQogICAgICBmaWxlbmFtZTogbnVsbCwNCiAgICAgIG1hcmNhOiAnJywNCiAgICAgIHJhbW86ICcnLA0KICAgICAgdXNlcnVpZDogJycsDQogICAgICBsb2FkaW5nOiBmYWxzZSwNCiAgICAgIGNvbnRhbm9ybWFsOiB0cnVlDQogICAgfQ0KICB9LA0KICBjcmVhdGVkICgpIHsNCiAgICB0aGlzLiRyb290LiRlbWl0KCdCdXNpbmVzczo6aGlkZScpDQogICAgdGhpcy4kcm9vdC4kZW1pdCgnTWVudUJhcjo6aGlkZScpDQogICAgdmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyDQogICAgaWYgKHVzZXIgIT0gbnVsbCkgew0KICAgICAgdGhpcy51c2VydWlkID0gdXNlci51aWQNCiAgICB9DQogICAgY29uc3QgcmVmID0gZGIuY29sbGVjdGlvbigndXNlcnMnKS5kb2ModGhpcy51c2VydWlkKS5nZXQoKQ0KICAgIHJlZi50aGVuKGRvYyA9PiB7DQogICAgICB0aGlzLmJ1c2luZXNzID0gZG9jLmRhdGEoKS5idXNpbmVzcw0KICAgICAgdGhpcy50YWcgPSBkb2MuZGF0YSgpLmJ1c2luZXNzaWQNCiAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgIGlmICh0aGlzLmJ1c2luZXNzID09PSB0cnVlKSB7DQogICAgICAgIHRoaXMuY29udGFub3JtYWwgPSBmYWxzZQ0KICAgICAgfQ0KICAgIH0pDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBvbkZpbGUgKGV2ZW50KSB7DQogICAgICB0aGlzLnBlcmZpbCA9IGV2ZW50LnRhcmdldC5maWxlc1swXQ0KICAgICAgdGhpcy5maWxlbmFtZSA9IHRoaXMucGVyZmlsLm5hbWUNCiAgICAgIHRoaXMuaW1nID0gVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLnBlcmZpbCkNCiAgICB9LA0KICAgIGFzeW5jIEJ1c2luZXNzICgpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWUNCiAgICAgICAgdmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyDQogICAgICAgIGlmICh1c2VyICE9IG51bGwpIHsNCiAgICAgICAgICB0aGlzLnVzZXJ1aWQgPSB1c2VyLnVpZA0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKHRoaXMucGVyZmlsKSB7DQogICAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBzdC5yZWYodGhpcy51c2VydWlkKS5jaGlsZCh0aGlzLmZpbGVuYW1lKS5wdXQodGhpcy5wZXJmaWwpDQoNCiAgICAgICAgICB0aGlzLnVybCA9IGF3YWl0IHNuYXBzaG90LnJlZi5nZXREb3dubG9hZFVSTCgpDQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICBjb25zb2xlLmxvZyhlcnIpDQogICAgICB9DQoNCiAgICAgIHZhciBjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKQ0KICAgICAgdmFyIG9sYSA9IGNyeXB0by5yYW5kb21CeXRlcygyMCkudG9TdHJpbmcoJ2hleCcpDQoNCiAgICAgIHRoaXMuYWxlID0gb2xhDQogICAgICBkYi5jb2xsZWN0aW9uKCdidXNpbmVzcycpLmRvYyh0aGlzLmFsZSkuc2V0KHsNCiAgICAgICAgbWFyY2E6IHRoaXMubWFyY2EsDQogICAgICAgIHJhbW86IHRoaXMucmFtbywNCiAgICAgICAgYnVzaW5lc3NpbWc6IHRoaXMudXJsDQogICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgZGIuY29sbGVjdGlvbigndXNlcnMnKS5kb2ModGhpcy51c2VydWlkKS5zZXQoew0KICAgICAgICAgIGJ1c2luZXNzaWQ6IHRoaXMuYWxlLA0KICAgICAgICAgIGJ1c2luZXNzOiB0cnVlDQogICAgICAgIH0sIHsgbWVyZ2U6IHRydWUgfSkNCiAgICAgICAgICAudGhlbigoKSA9PiB7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2xvc2UnKS5jbGljaygpDQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdEYXNoYm9hcmQnLCBwYXJhbXM6IHsgaWQ6IHRoaXMuYWxlIH0gfSkNCiAgICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["HomeBS.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HomeBS.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"py-5 text-white h-100 align-items-center d-flex bg-business\" style=\"\">\r\n    <div class=\"container py-5\">\r\n      <div class=\"row\">\r\n        <div class=\" col-lg-9 col-md-10\">\r\n          <h1 class=\"mb-4 display-2\"><b>Seja <span style=\"color:#7bff86;font-weight:700\">Bem Vindo</span> ao Indicou Business!</b></h1>\r\n          <h5 class=\"pb-3 font-poppins\">Para Realizar a Criação e Publicação de Anúncios é necessário realizar um upgrade da sua conta para business! É gratuito! Bora?!\r\n          </h5>\r\n          <a href=\"#\" v-if=\"contanormal\" class=\"btn btn-primary btn-lg text-white \" style=\"background-color: #7bff86;font-weight:700;text-shadow:rgb(73, 148, 100) 1px 0px 12px;width:250px;\" data-toggle=\"modal\" data-target=\"#upgrade\">Eu Quero Anunciar</a>\r\n          <router-link :to=\"{name: 'Dashboard', params: { id: this.tag }}\" v-else class=\"btn btn-primary btn-lg text-white \" style=\"background-color: #7bff86;font-weight:700;text-shadow:rgb(73, 148, 100) 1px 0px 12px;width:250px;\" >Entre na Dashboard</router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"modal mt-5\" id=\"upgrade\">\r\n    <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n      <div class=\"modal-content font-poppins\">\r\n        <form class=\"\"  @submit.prevent=\"Business()\">\r\n        <div class=\"modal-header border-bottom-0 pb-1 bg-light\" style=\"\">\r\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" id=\"close\"> <span >×</span> </button>\r\n        </div>\r\n        <div class=\"modal-body pt-0 bg-light\">\r\n          <h4 class=\"text-center px-3\">Antes de entrar no Indicou Business precisamos que você preencha alguns dados referentes ao seu negócio :) </h4>\r\n          <div class=\"row mt-3\">\r\n            <div class=\"col-md-4 pl-4 pr-0 pt-1\">\r\n              <label class=\"w-100 ml-4\"></label>\r\n              <img v-if=\"this.perfil == '' \" class=\"img-fluid d-block rounded-circle mx-auto my-2\" src=\"https://static.pingendo.com/img-placeholder-3.svg\" width=\"90%\">\r\n              <img v-else class=\"img-fluid d-block rounded-circle mx-auto my-2 teste\"  :src=\"this.img\" width=\"90%\">\r\n            </div>\r\n            <div class=\"col-md-8 pr-5 pt-1\">\r\n\r\n                <div class=\"form-group\">\r\n                  <p style=\"font-size:15px\" class=\"mb-1 mt-3\">Nome / Marca:</p>\r\n                  <input type=\"text\" class=\"form-control bg-light mt-0\" placeholder=\"Digite o nome do seu negócio...\" required v-model=\"marca\">\r\n                  </div>\r\n                <div class=\"form-group\">\r\n                  <p style=\"font-size:15px\" class=\"mb-1 mt-4\">Em qual ramo atua seu negócio?</p>\r\n                  <select class=\"form-control bg-light form-select\" aria-label=\"Default select example\" required v-model=\"ramo\">\r\n                    <option selected=\"\" value=\"\">Selecione uma atuação</option>\r\n                    <option value=\"Imobiliária\">Imobiliária</option>\r\n                    <option value=\"Rede Social\">Rede Social</option>\r\n                    <option value=\"Barbearia\">Barbearia</option>\r\n                    <option value=\"Eletrodoméstico\">Eletrodoméstico</option>\r\n                    <option value=\"E-book\">E-book</option>\r\n                    <option value=\"Pintura\">Pintura</option>\r\n                    <option value=\"Energia Solar\">Energia Solar</option>\r\n                    <option value=\"Outros\">Outros</option>\r\n                  </select>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                  <p style=\"font-size:15px\" class=\"mb-1 mt-3\">Sua LogoMarca:</p>\r\n                  <input\r\n                  type=\"file\"\r\n                  class=\"pl-0 form-control form-control-sm border-0 border-light w-100 mt-1 bg-light\"\r\n                  accept=\"image/jpeg\"\r\n                  @change=\"onFile\"\r\n                  required>\r\n                </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer border-top-0 d-flex flex-column justify-content-center align-items-center pb-4 bg-light\">\r\n          <button class=\"btn w-50 btn-dark btn-lg\" :disabled=\"loading\">\r\n            <template v-if=\"loading\">\r\n              Carregando... <i class=\"fas fa-spinner fa-spin\"></i>\r\n              </template>\r\n              <template v-else>\r\n                Começar agora!\r\n              </template>\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { auth, db, st } from '../firebase'\r\nexport default {\r\n  name: 'Business',\r\n  data () {\r\n    return {\r\n      perfil: '',\r\n      filename: null,\r\n      marca: '',\r\n      ramo: '',\r\n      useruid: '',\r\n      loading: false,\r\n      contanormal: true\r\n    }\r\n  },\r\n  created () {\r\n    this.$root.$emit('Business::hide')\r\n    this.$root.$emit('MenuBar::hide')\r\n    var user = auth.currentUser\r\n    if (user != null) {\r\n      this.useruid = user.uid\r\n    }\r\n    const ref = db.collection('users').doc(this.useruid).get()\r\n    ref.then(doc => {\r\n      this.business = doc.data().business\r\n      this.tag = doc.data().businessid\r\n    }).then(() => {\r\n      if (this.business === true) {\r\n        this.contanormal = false\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    onFile (event) {\r\n      this.perfil = event.target.files[0]\r\n      this.filename = this.perfil.name\r\n      this.img = URL.createObjectURL(this.perfil)\r\n    },\r\n    async Business () {\r\n      try {\r\n        this.loading = true\r\n        var user = auth.currentUser\r\n        if (user != null) {\r\n          this.useruid = user.uid\r\n        }\r\n\r\n        if (this.perfil) {\r\n          const snapshot = await st.ref(this.useruid).child(this.filename).put(this.perfil)\r\n\r\n          this.url = await snapshot.ref.getDownloadURL()\r\n        }\r\n      } catch (err) {\r\n        console.log(err)\r\n      }\r\n\r\n      var crypto = require('crypto')\r\n      var ola = crypto.randomBytes(20).toString('hex')\r\n\r\n      this.ale = ola\r\n      db.collection('business').doc(this.ale).set({\r\n        marca: this.marca,\r\n        ramo: this.ramo,\r\n        businessimg: this.url\r\n      }).then(() => {\r\n        db.collection('users').doc(this.useruid).set({\r\n          businessid: this.ale,\r\n          business: true\r\n        }, { merge: true })\r\n          .then(() => {\r\n            document.getElementById('close').click()\r\n            this.$router.push({ name: 'Dashboard', params: { id: this.ale } })\r\n          })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.teste{\r\n  max-width: 90%;\r\n  max-height: 90%;\r\n  min-width: 90%;\r\n  min-height: 90%;\r\n  object-fit: cover;\r\n}\r\n</style>\r\n"]}]}